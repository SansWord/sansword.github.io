if (self.CavalryLogger) { CavalryLogger.start_js(["ZAP5N"]); }

__d('CommentsTimeSpentTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){this.clear();}k.prototype.log=function(){i.log('logger:CommentsTimeSpentLoggerConfig',this.$CommentsTimeSpentTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:CommentsTimeSpentLoggerConfig',this.$CommentsTimeSpentTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$CommentsTimeSpentTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$CommentsTimeSpentTypedLogger1=babelHelpers['extends']({},this.$CommentsTimeSpentTypedLogger1,m);return this;};k.prototype.setEndTime=function(m){this.$CommentsTimeSpentTypedLogger1.end_time=m;return this;};k.prototype.setOrderingMode=function(m){this.$CommentsTimeSpentTypedLogger1.ordering_mode=m;return this;};k.prototype.setPostFbid=function(m){this.$CommentsTimeSpentTypedLogger1.post_fbid=m;return this;};k.prototype.setStartTime=function(m){this.$CommentsTimeSpentTypedLogger1.start_time=m;return this;};k.prototype.setTimeSpentID=function(m){this.$CommentsTimeSpentTypedLogger1.time_spent_id=m;return this;};k.prototype.setViewerHasInteracted=function(m){this.$CommentsTimeSpentTypedLogger1.viewer_has_interacted=m;return this;};var l={end_time:true,ordering_mode:true,post_fbid:true,start_time:true,time_spent_id:true,viewer_has_interacted:true};f.exports=k;}),null);
__d('MUFICommentViewportTracking',['MLegacyDataStore','MViewportTracking','MarauderLogger','MUFIConfig'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();l=babelHelpers.inherits(n,i);m=l&&l.prototype;n.prototype.getDataFromConfig=function(o){this.vpvLoggingEnabled=o.vpvLoggingEnabled;};n.prototype.getStoryID=function(o){return h.get(o).token;};n.prototype.getDataToLog=function(o){return this.getStoryID(o);};n.prototype.sendDataToLog=function(o){if(this.vpvLoggingEnabled)j.log('comment_vpv',undefined,null,'comment',o);};n.prototype.getTimeout=function(){return k.vpvLoggingTimeout;};function n(){l.apply(this,arguments);}f.exports=n;}),null);
__d('MUFIStaticCommentViewportTracking',['CommentsTimeSpentTypedLogger','MUFICommentViewportTracking','Stratcom','pageID'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n={},o=null;l=babelHelpers.inherits(p,i);m=l&&l.prototype;p.trackStatically=function(q,r,s,t,u){var v=u+'_'+t,w=n[v];if(!w){w=new p();n[v]=w;w.init({is_loose:false,throttle_no_delay:false,relaxed_min_size:true,vpv_debug:false,triggerOverride:[['scroll',null],['touchmove','ufi-overlay']],vpvLoggingEnabled:r,timeTrackingEnabled:s,orderingMode:t,targetFBID:u});}if(!o)o=j.listen('m:page:unload',null,p.resetAll);w.addComments(q);w.fireEvent();};p.resetAll=function(){if(o)o.remove();o=null;n={};};function p(){m.constructor.call(this);this.resetTimeSpentInterval();this.comments=[];}p.prototype.addComments=function(q){this.comments.push.apply(this.comments,q);};p.prototype.getDataFromConfig=function(q){m.getDataFromConfig.call(this,q);this.isTimeTrackingEnabled=q.timeTrackingEnabled;this.orderingMode=q.orderingMode;this.targetFBID=q.targetFBID;};p.prototype.getAllStories=function(){return this.comments;};p.prototype.recordVPVDurations=function(q,r){this.recordVPVDurationsInternal(q,r);if(r||!q.length){if(this.timeSpentIntervalStart<this.timeSpentIntervalEnd)new h().setOrderingMode(this.orderingMode).setPostFbid(this.targetFBID).setStartTime(this.timeSpentIntervalStart).setEndTime(this.timeSpentIntervalEnd).setTimeSpentID(k).log();this.resetTimeSpentInterval();}};p.prototype.sendTimetrackingDataToLog=function(q){var r=Math.round(q.vpvd_start_timestamp);if(r<this.timeSpentIntervalStart)this.timeSpentIntervalStart=r;var s=r+Math.round(q.vpvd_time_delta/1000);if(s>this.timeSpentIntervalEnd)this.timeSpentIntervalEnd=s;};p.prototype.resetTimeSpentInterval=function(){this.timeSpentIntervalStart=Number.MAX_VALUE;this.timeSpentIntervalEnd=0;};f.exports=p;}),null);
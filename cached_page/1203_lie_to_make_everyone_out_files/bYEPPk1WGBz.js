if (self.CavalryLogger) { CavalryLogger.start_js(["eL1hr"]); }

__d("VideoDownloadDeleteReason",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CACHE_SYNC:"cache_sync",CONSISTENCY_CHECK:"consistency_check",USER_INITIATED:"user_initiated",CHUNKED_PLAYBACK_NOT_SUPPORTED:"chunked_playback_not_supported"};}),null);
__d("VideoDownloadLoggerEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONTROL_IMPRESSION:"control_impression",DOWNLOAD_CANCELLED:"download_cancelled",DOWNLOAD_DELETED:"download_deleted",DOWNLOAD_FAILED:"download_failed",DOWNLOAD_FINISHED:"download_finished",DOWNLOAD_PROGRESS:"download_progress",DOWNLOAD_REQUESTED:"download_requested",SLOW_PLAYBACK_DETECTED:"slow_playback_detected",SURVEY_URI_REQUESTED:"survey_uri_requested",SURVEY_IMPRESSION_ATTEMPT:"survey_impression_attempt",SURVEY_PROMPT_RESULT:"survey_prompt_result",QUALITY_SELECTED:"quality_selected",QUALITY_SELECTOR_IMPRESSION:"quality_selector_impression",QUALITY_SELECTOR_NO_QUALITIES_AVAILABLE:"quality_selector_no_qualities_available",REQUESTED_PLAYING:"requested_playing",PAGE_SETTING_CHANGE:"page_setting_change"};}),null);
__d("VideoDownloadLoggerFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={APP_ID:"app_id",AVAILABLE_QUALITIES:"available_qualities",AVAILABLE_QUALITIES_COUNT:"available_qualities_count",BYTES_DOWNLOADED:"bytes_downloaded",CONFIG_NAME:"config_name",CONNECTIVITY_TYPE:"connectivity_type",DELETE_REASON:"delete_reason",DEVICE_YEAR_CLASS:"device_year_class",DOWNLOAD_ORIGIN:"download_origin",DOWNLOAD_SETTING:"download_setting",ELAPSED_TIME_MS:"elapsed_time_ms",ERROR:"error",ERROR_CODE:"error_code",EVENT_NAME:"event_name",EVENT_ORIGIN:"event_origin",EVENT_SUBORIGIN:"event_suborigin",IS_EMPLOYEE:"is_employee",IS_VISIBLE:"is_visible",OWNER_ID:"owner_id",QUALITY:"quality",REASON:"reason",SAVED_OFFLINE:"saved_offline",SESSION_ID:"session_id",TOTAL_SIZE:"total_size",TIME_MS:"time_ms",VIDEO_ID:"video_id"};}),null);
__d("VideoDownloadReason",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUTO_INITIATED:"auto_initiated",USER_INITIATED:"user_initiated"};}),null);
__d("VideoPlayerInitializationEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"};}),null);
__d("VideoPlayerLoggerEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAROUSEL_CHANGE:"carousel_change",CLICK:"click",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availabilty_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",DISPLAYED:"displayed",ENTERED_HD:"entered_hd",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",EXITED_HD:"exited_hd",EXITED_FS:"exited_fs",ERROR:"error",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PROGRESS:"progress",STREAM_RESET:"stream_reset",POP_FAILOVER:"pop_failover",SURFACE_UPDATED:"surface_updated",TOGGLE_SUBTITLE_OFF:"toggle_subtitle_off",TOGGLE_SUBTITLE_ON:"toggle_subtitle_on",QUALITY_CHANGE:"quality_change",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SPLASH_DISPLAYED:"splash_displayed",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",UNMUTED:"unmuted",UNPAUSED:"unpaused",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",SWITCHED_IMPLEMENTATION:"switched_implementation",INLINE_CLICK_TO_PLAY:"inline_click_to_play",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_LOAD_ERROR:"manifest_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",PLAYER_WARNING:"player_warning",NETWORK_TIMEOUT:"network_timeout",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",HEADING_RESET:"heading_reset",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",AD_BREAK_START:"ad_break_start",AD_BREAK_END:"ad_break_end",AD_BREAK_AD_DISPLAYED:"ad_break_ad_displayed"};}),null);
__d("VideoPlayerLoggerSource",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",EMBEDDED:"embedded",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",HTML5:"html5",INLINE:"inline",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",INSIGHTS:"insights",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",OFFERS_DETAIL:"offers_detail",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PERMALINK:"permalink",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",TV:"tv",VIDEOHUB_PLAYLIST:"videohub_playlist",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",WATCH_SCROLL:"watch_scroll",SLIDESHOW:"slideshow",LIVE_MAP:"live_map",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",ISSUES_MODULE:"issues_module",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail"};}),null);
__d("VideoPlayerReason",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUTOPLAY:"autoplay_initiated",USER:"user_initiated",PAGE_VISIBILITY:"page_visibility_initiated",SEEK:"seek_initiated",LOOP:"loop_initiated",EMBEDDED_VIDEO_API:"embedded_video_api_initiated",CONNECTION:"host-connection-error",VIDEO_DATA_REPLACED:"video_data_replaced",VOD_NOT_READY:"vod_not_ready",VIDEO_DATA_SWITCH:"video_data_switch",FALLBACK_MODE:"fallback_mode",COMMERCIAL_BREAK:"commercial_break",SPHERICAL_FALLBACK:"spherical_fallback",UNLOADED:"unloaded",SPHERICAL_SWITCH_CANVAS:"spherical_switch_canvas",HOVER:"hover"};}),null);
__d("VideoPlayerVersions",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HTML5:"html5",SILVERCITY:"silvercity",PLEASANTVILLE:"pleasantville",OLD_API_PSR:"old_api_psr",OLD_API_EXO:"old_api_exo",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",LEGACY:"legacy",REFACTORED:"refactored",FNF:"fnf",MBASIC:"mbasic",CHROMECAST:"chromecast",CASTING_DEBUG:"casting_debug",UNKNOWN:"unknown"};}),null);
__d('MCustomDialog',['cx','DOM','ge'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={show:function l(m){var n=i.create('div',{className:"_3uug"},null),o=i.create('div',{className:"_3uuh"},i.create('h2',null,m.titleString)),p=i.create('div',{className:"_3uui"},i.create('p',null,m.descriptionString)),q=i.create('p',{className:"_3uuj"},m.dismissButtonString),r=i.create('div',{className:"_3uuk"},q);i.appendContent(n,o);i.appendContent(n,p);i.appendContent(n,r);if(m.confirmButtonString&&m.confirmButtonCallback){var s=i.create('p',{className:"_3uuj"},m.confirmButtonString);i.prependContent(r,s);}var t=i.create('div',{className:"_3uul"},n);q.addEventListener('click',function(){i.remove(t);m.dismissButtonCallback&&m.dismissButtonCallback();});s&&s.addEventListener('click',function(){i.remove(t);m.confirmButtonCallback&&m.confirmButtonCallback();});var u=j('root');if(u)i.prependContent(u,t);}};f.exports=k;}),null);
__d('MFullScreen',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={debounce:function i(j,k,l){var m;return function(){var n=this,o=arguments,p=function r(){m=null;if(!l)j.apply(n,o);},q=l&&!m;clearTimeout(m);m=setTimeout(p,k);if(q)j.apply(n,o);};},isSupported:function i(){var j=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled,k=document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen;return j&&k;},isFullScreen:function i(){return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement;},enableFullScreen:function i(j){if(j.webkitRequestFullScreen){j.webkitRequestFullScreen();}else if(j.mozRequestFullScreen){j.mozRequestFullScreen();}else if(j.msRequestFullscreen){j.msRequestFullscreen();}else if(j.requestFullScreen)j.requestFullScreen();},disableFullScreen:function i(){if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}else if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.exitFullScreen)document.exitFullScreen();},listenForFullScreenEvent:function i(j,k){var l=this.debounce(k,500);j.addEventListener('webkitfullscreenchange',k);j.addEventListener('mozfullscreenchange',k);j.addEventListener('MSFullscreenChange',k);j.addEventListener('fullscreenchange',l);},removeFullScreenEventListeners:function i(j,k){var l=this.debounce(k,500);j.removeEventListener('webkitfullscreenchange',k);j.removeEventListener('mozfullscreenchange',k);j.removeEventListener('MSFullscreenChange',k);j.removeEventListener('fullscreenchange',l);}};f.exports=h;}),null);
__d("Deferred",["Promise"],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(){"use strict";this.$Deferred1=false;this.$Deferred2=new h(function(j,k){this.$Deferred3=j;this.$Deferred4=k;}.bind(this));}i.prototype.getPromise=function(){"use strict";return this.$Deferred2;};i.prototype.resolve=function(j){"use strict";this.$Deferred1=true;this.$Deferred3(j);};i.prototype.reject=function(j){"use strict";this.$Deferred1=true;this.$Deferred4(j);};i.prototype["catch"]=function(){"use strict";return h.prototype["catch"].apply(this.$Deferred2,arguments);};i.prototype.then=function(){"use strict";return h.prototype.then.apply(this.$Deferred2,arguments);};i.prototype.done=function(){"use strict";var j=arguments.length?this.$Deferred2.then.apply(this.$Deferred2,arguments):this.$Deferred2;j.then(undefined,function(k){setTimeout(function(){throw k;},0);});};i.prototype.isSettled=function(){"use strict";return this.$Deferred1;};f.exports=i;}),null);
__d('mergeDeepInto',['invariant','mergeHelpers'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i.ArrayStrategies,k=i.checkArrayStrategy,l=i.checkMergeArrayArgs,m=i.checkMergeLevel,n=i.checkMergeObjectArgs,o=i.isTerminal,p=i.normalizeMergeArg,q=function u(v,w,x,y){n(v,w);m(y);var z=w?Object.keys(w):[];for(var aa=0;aa<z.length;aa++){var ba=z[aa];s(v,w,ba,x,y);}},r=function u(v,w,x,y){l(v,w);m(y);var z=Math.max(v.length,w.length);for(var aa=0;aa<z;aa++)s(v,w,aa,x,y);},s=function u(v,w,x,y,z){var aa=w[x],ba=w.hasOwnProperty(x),ca=ba&&o(aa),da=ba&&Array.isArray(aa),ea=ba&&!da&&!da,fa=v[x],ga=v.hasOwnProperty(x),ha=ga&&o(fa),ia=ga&&Array.isArray(fa),ja=ga&&!ia&&!ia;if(ha){if(ca){v[x]=aa;}else if(da){v[x]=[];r(v[x],aa,y,z+1);}else if(ea){v[x]={};q(v[x],aa,y,z+1);}else if(!ba)v[x]=fa;}else if(ia){if(ca){v[x]=aa;}else if(da){!j[y]?h(0):void 0;if(y===j.Clobber)fa.length=0;r(fa,aa,y,z+1);}else if(ea){v[x]={};q(v[x],aa,y,z+1);}else !ba;}else if(ja){if(ca){v[x]=aa;}else if(da){v[x]=[];r(v[x],aa,y,z+1);}else if(ea){q(fa,aa,y,z+1);}else !ba;}else if(!ga)if(ca){v[x]=aa;}else if(da){v[x]=[];r(v[x],aa,y,z+1);}else if(ea){v[x]={};q(v[x],aa,y,z+1);}else !ba;},t=function u(v,w,x){var y=p(w);k(x);q(v,y,x,0);};f.exports=t;}),null);
__d('AsyncStorage',['Deferred','mergeDeepInto','mergeHelpers'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.ArrayStrategies,l=window.indexedDB,m=1,n='data',o=false,p=void 0,q=Date.now(),r=new h();function s(){var v=l.open('AsyncStorage',m);v.onerror=function(event){var w=new Error('Failed to open AsyncStorage IndexedDB instance.');r.reject(w);};v.onsuccess=function(event){o&&false;p=event.target.result;r.resolve({db:p});p.onerror=function(w){};};v.onupgradeneeded=function(w){var x=w.currentTarget.result;if(x.objectStoreNames&&x.objectStoreNames.contains(n))return;x.createObjectStore(n,{keyPath:'key'});};}if(l)s();function t(v){if(p){v();}else r.then(function(){o&&false;t(v);});}var u={setItem:function v(w,x,y){this.multiSet([[w,x]],function(z){y(z&&z[0]||null);});},getItem:function v(w,x){this.multiGet([w],function(y,z){var aa=z!==undefined&&z[0]!==undefined&&typeof z[0][1]!==undefined?z[0][1]:null;x(y&&y[0]||null,aa);});},removeItem:function v(w,x){this.multiRemove([w],function(y){x(y&&y[0]||null);});},multiGet:function v(w,x){var y=[];this._multiOp(w,'readonly',function(z){return x(z,y);},function(z){return z;},function(z,aa,ba){if(aa&&z===aa.key){o&&false;y.push([z,aa.value.value]);}else y.push([z,null]);});},multiSet:function v(w,x){this._multiOp(w,'readwrite',x,function(y){return y[0];},function(y,z,aa){if(z&&y[0]===z.key){var ba=z.value;ba.value=y[1];o&&false;z.update(ba);}else aa.push(y);});},multiMerge:function v(w,x){this._multiOp(w,'readwrite',x,function(y){return y[0];},function(y,z,aa){if(z&&y[0]===z.key){var ba=z.value,ca=JSON.parse(ba.value);i(ca,JSON.parse(y[1]),k.Clobber);o&&false;ba.value=JSON.stringify(ca);z.update(ba);}else{o&&false;aa.push(y);}});},multiRemove:function v(w,x){this._multiOp(w,'readwrite',x,function(y){return y;},function(y,z,aa){if(z&&y===z.key){o&&false;z['delete']();}});},getAllKeys:function v(w){t(function(){var x=p.transaction([n],'readonly'),y=x.objectStore(n).openCursor(),z=[];y.onsuccess=function(event){var aa=event.target.result;if(!aa){w(null,z);return;}z.push(aa.key);aa['continue']();};});},clear:function v(w){t(function(){var x=p.transaction([n],'readwrite'),y=x.objectStore(n).openCursor();y.onsuccess=function(event){var z=event.target.result;if(!z){w(null);return;}z['delete']();z['continue']();};});},_multiOp:function v(w,x,y,z,aa){t(function(){var ba=false,ca=w.slice().sort(function(ia,ja){var ka=z(ia),la=z(ja);if(ka===la){var ma=new Error('AsyncStorage._multiOp cannot process duplicate keys.');y&&y(ma);ba=true;return 0;}return ka<la?-1:1;});if(ba)return;var da=p.transaction([n],x),ea=da.objectStore(n).openCursor(),fa=[],ga=0;ea.onsuccess=function(event){var ia=event.target.result;if(!ia){while(ga<ca.length){aa(ca[ga],ia,fa);ga++;}ha();return;}var ja=ia.key;o&&false;while(z(ca[ga])<=ja){o&&false;aa(ca[ga],ia,fa);ga++;if(ga===ca.length){ha();return;}}var ka=z(ca[ga]);ia['continue'](ka);};function ha(){var ia=da.objectStore(n);fa.forEach(function(ja){o&&false;ia.add({key:ja[0],value:ja[1]});});}da.oncomplete=function(){y&&y(null);};da.onerror=function(event){var ia=new Error('IndexedDB error: '+event.target.error.message);y&&y(ia);};o&&false;});}};f.exports=u;}),null);
__d("str2rstr",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){var j="",k,l;for(var m=0;m<i.length;m++){k=i.charCodeAt(m);l=m+1<i.length?i.charCodeAt(m+1):0;if(55296<=k&&k<=56319&&56320<=l&&l<=57343){k=65536+((k&1023)<<10)+(l&1023);m++;}if(k<=127){j+=String.fromCharCode(k);}else if(k<=2047){j+=String.fromCharCode(192|k>>>6&31,128|k&63);}else if(k<=65535){j+=String.fromCharCode(224|k>>>12&15,128|k>>>6&63,128|k&63);}else if(k<=2097151)j+=String.fromCharCode(240|k>>>18&7,128|k>>>12&63,128|k>>>6&63,128|k&63);}return j;}f.exports=h;}),null);
__d('md5',['str2rstr'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(v,w){var x=v[0],y=v[1],z=v[2],aa=v[3];x=k(x,y,z,aa,w[0],7,-680876936);aa=k(aa,x,y,z,w[1],12,-389564586);z=k(z,aa,x,y,w[2],17,606105819);y=k(y,z,aa,x,w[3],22,-1044525330);x=k(x,y,z,aa,w[4],7,-176418897);aa=k(aa,x,y,z,w[5],12,1200080426);z=k(z,aa,x,y,w[6],17,-1473231341);y=k(y,z,aa,x,w[7],22,-45705983);x=k(x,y,z,aa,w[8],7,1770035416);aa=k(aa,x,y,z,w[9],12,-1958414417);z=k(z,aa,x,y,w[10],17,-42063);y=k(y,z,aa,x,w[11],22,-1990404162);x=k(x,y,z,aa,w[12],7,1804603682);aa=k(aa,x,y,z,w[13],12,-40341101);z=k(z,aa,x,y,w[14],17,-1502002290);y=k(y,z,aa,x,w[15],22,1236535329);x=l(x,y,z,aa,w[1],5,-165796510);aa=l(aa,x,y,z,w[6],9,-1069501632);z=l(z,aa,x,y,w[11],14,643717713);y=l(y,z,aa,x,w[0],20,-373897302);x=l(x,y,z,aa,w[5],5,-701558691);aa=l(aa,x,y,z,w[10],9,38016083);z=l(z,aa,x,y,w[15],14,-660478335);y=l(y,z,aa,x,w[4],20,-405537848);x=l(x,y,z,aa,w[9],5,568446438);aa=l(aa,x,y,z,w[14],9,-1019803690);z=l(z,aa,x,y,w[3],14,-187363961);y=l(y,z,aa,x,w[8],20,1163531501);x=l(x,y,z,aa,w[13],5,-1444681467);aa=l(aa,x,y,z,w[2],9,-51403784);z=l(z,aa,x,y,w[7],14,1735328473);y=l(y,z,aa,x,w[12],20,-1926607734);x=m(x,y,z,aa,w[5],4,-378558);aa=m(aa,x,y,z,w[8],11,-2022574463);z=m(z,aa,x,y,w[11],16,1839030562);y=m(y,z,aa,x,w[14],23,-35309556);x=m(x,y,z,aa,w[1],4,-1530992060);aa=m(aa,x,y,z,w[4],11,1272893353);z=m(z,aa,x,y,w[7],16,-155497632);y=m(y,z,aa,x,w[10],23,-1094730640);x=m(x,y,z,aa,w[13],4,681279174);aa=m(aa,x,y,z,w[0],11,-358537222);z=m(z,aa,x,y,w[3],16,-722521979);y=m(y,z,aa,x,w[6],23,76029189);x=m(x,y,z,aa,w[9],4,-640364487);aa=m(aa,x,y,z,w[12],11,-421815835);z=m(z,aa,x,y,w[15],16,530742520);y=m(y,z,aa,x,w[2],23,-995338651);x=n(x,y,z,aa,w[0],6,-198630844);aa=n(aa,x,y,z,w[7],10,1126891415);z=n(z,aa,x,y,w[14],15,-1416354905);y=n(y,z,aa,x,w[5],21,-57434055);x=n(x,y,z,aa,w[12],6,1700485571);aa=n(aa,x,y,z,w[3],10,-1894986606);z=n(z,aa,x,y,w[10],15,-1051523);y=n(y,z,aa,x,w[1],21,-2054922799);x=n(x,y,z,aa,w[8],6,1873313359);aa=n(aa,x,y,z,w[15],10,-30611744);z=n(z,aa,x,y,w[6],15,-1560198380);y=n(y,z,aa,x,w[13],21,1309151649);x=n(x,y,z,aa,w[4],6,-145523070);aa=n(aa,x,y,z,w[11],10,-1120210379);z=n(z,aa,x,y,w[2],15,718787259);y=n(y,z,aa,x,w[9],21,-343485551);v[0]=t(x,v[0]);v[1]=t(y,v[1]);v[2]=t(z,v[2]);v[3]=t(aa,v[3]);}function j(v,w,x,y,z,aa){w=t(t(w,v),t(y,aa));return t(w<<z|w>>>32-z,x);}function k(v,w,x,y,z,aa,ba){return j(w&x|~w&y,v,w,z,aa,ba);}function l(v,w,x,y,z,aa,ba){return j(w&y|x&~y,v,w,z,aa,ba);}function m(v,w,x,y,z,aa,ba){return j(w^x^y,v,w,z,aa,ba);}function n(v,w,x,y,z,aa,ba){return j(x^(w|~y),v,w,z,aa,ba);}function o(v){var w=v.length,x=[1732584193,-271733879,-1732584194,271733878],y;for(y=64;y<=v.length;y+=64)i(x,p(v.substring(y-64,y)));v=v.substring(y-64);var z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(y=0;y<v.length;y++)z[y>>2]|=v.charCodeAt(y)<<((y&3)<<3);z[y>>2]|=128<<((y&3)<<3);if(y>55){i(x,z);for(y=0;y<16;y++)z[y]=0;}z[14]=w*8;i(x,z);return x;}function p(v){var w=[],x=0;while(x<64)w[x>>2]=v.charCodeAt(x++)|v.charCodeAt(x++)<<8|v.charCodeAt(x++)<<16|v.charCodeAt(x++)<<24;return w;}var q='0123456789abcdef'.split('');function r(v){var w='',x=0;for(;x<4;x++)w+=q[v>>(x<<3)+4&15]+q[v>>(x<<3)&15];return w;}function s(v){for(var w=0;w<v.length;w++)v[w]=r(v[w]);return v.join('');}var t=function v(w,x){return w+x&4294967295;};function u(v){if(null===v||undefined===v){return null;}else{for(var w=0;w<v.length;w++)if(v[w]>"\u007F"){v=h(v);break;}return s(o(v));}}if(u('hello')!='5d41402abc4b2a76b9719d911017c592')t=function v(w,x){var y=(w&65535)+(x&65535),z=(w>>16)+(x>>16)+(y>>16);return z<<16|y&65535;};f.exports=u;}),null);
__d('MVideoCacheConfig',['CurrentUser','MVideoDownloadConfig','md5','WebStorage'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=null,l={CACHE_PREFIX:'vc',PREFIX_SEPARATOR:'_',CONFIG_PREFIX:'config',KEYS:{lastCleanUp:'lastCleanUp'},isSupported:function m(){try{if(!k)k=c('WebStorage');return k.getLocalStorage();}catch(n){k=null;return false;}},currentAccountHash:function m(){var n=''+h.getAccountID();return j(n);},getUserPrefix:function m(){return l.CACHE_PREFIX+l.PREFIX_SEPARATOR+l.currentAccountHash()+l.PREFIX_SEPARATOR;},getCacheConfigKey:function m(){return l.CACHE_PREFIX+l.PREFIX_SEPARATOR+l.CONFIG_PREFIX+l.PREFIX_SEPARATOR+l.currentAccountHash();},initCacheConfig:function m(){var n={},o=Date.now()-2*i.cache_sync_interval_ms;n[l.KEYS.lastCleanUp]=o;n=JSON.stringify(n);var p=l.getCacheConfigKey();k.getLocalStorage().setItem(p,n);return n;},getCacheConfig:function m(){var n=l.getCacheConfigKey(),o=k.getLocalStorage().getItem(n);try{JSON.parse(o);}catch(p){o=null;}if(o===null)o=l.initCacheConfig();o=JSON.parse(o);return o;},getItemFromConfig:function m(n){var o=l.getCacheConfig();return o[n];},setItemFromConfig:function m(n,o){var p=l.getCacheConfig();p[n]=o;p=JSON.stringify(p);var q=l.getCacheConfigKey();k.getLocalStorage().setItem(q,p);}};f.exports=l;}),null);
__d('XHRRequestRetrier',['setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$XHRRequestRetrier1=j;this.$XHRRequestRetrier2=false;this.$XHRRequestRetrier3=0;this.$XHRRequestRetrier4=0;this.$XHRRequestRetrier5=0;this.$XHRRequestRetrier6=1000;this.$XHRRequestRetrier7=2;this.$XHRRequestRetrier8=.5;this.$XHRRequestRetrier9=j.getErrorHandler();j.setErrorHandler(this.$XHRRequestRetrier11.bind(this));this.$XHRRequestRetrier10=j.getAbortHandler();j.setAbortHandler(this.$XHRRequestRetrier12.bind(this));}i.prototype.setMaxAttempts=function(j){'use strict';this.$XHRRequestRetrier5=j;return this;};i.prototype.setBaseRetryDelayMs=function(j){'use strict';this.$XHRRequestRetrier6=j;return this;};i.prototype.setRetryBackoffFactor=function(j){'use strict';this.$XHRRequestRetrier7=j;return this;};i.prototype.setRetryFuzzFactor=function(j){'use strict';this.$XHRRequestRetrier8=j;return this;};i.prototype.send=function(){'use strict';if(this.$XHRRequestRetrier2)return;if(this.$XHRRequestRetrier1.getTimeout())throw new Error('Not supported.');this.$XHRRequestRetrier3++;if(!this.$XHRRequestRetrier4)this.$XHRRequestRetrier4=this.$XHRRequestRetrier6;this.$XHRRequestRetrier1.send();};i.prototype.$XHRRequestRetrier11=function(){'use strict';if(this.$XHRRequestRetrier3<this.$XHRRequestRetrier5){this.$XHRRequestRetrier13();}else if(this.$XHRRequestRetrier9)this.$XHRRequestRetrier9.apply(this,arguments);};i.prototype.$XHRRequestRetrier12=function(){'use strict';this.$XHRRequestRetrier2=true;if(this.$XHRRequestRetrier10)this.$XHRRequestRetrier10.apply(this,arguments);};i.prototype.$XHRRequestRetrier13=function(){'use strict';var j=this.send.bind(this),k=Math.random()*2-1,l=k*this.$XHRRequestRetrier8,m=this.$XHRRequestRetrier4*(1+l);h(j,m);this.$XHRRequestRetrier4*=this.$XHRRequestRetrier7;};f.exports=i;}),null);
__d('URIDownloader',['invariant','URI','XHRRequest','XHRRequestRetrier'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=200000,m=15,n=2000,o=1.5;function p(q,r){'use strict';this.$URIDownloader1=new i(q);this.$URIDownloader2=r;this.$URIDownloader3=0;this.$URIDownloader4=0;this.$URIDownloader5=[];}p.prototype.setResponseHandler=function(q){'use strict';!!this.$URIDownloader10?h(0):void 0;this.$URIDownloader9=q;return this;};p.prototype.setChunkedResponseHandler=function(q){'use strict';!!this.$URIDownloader9?h(0):void 0;this.$URIDownloader10=q;return this;};p.prototype.setErrorHandler=function(q){'use strict';this.$URIDownloader11=q;return this;};p.prototype.setAbortHandler=function(q){'use strict';this.$URIDownloader12=q;return this;};p.prototype.setProgressHandler=function(q){'use strict';this.$URIDownloader13=q;return this;};p.prototype.$URIDownloader14=function(q){'use strict';if(this.$URIDownloader8)return;if(this.$URIDownloader13)this.$URIDownloader13({total:this.$URIDownloader2,loaded:this.$URIDownloader4+(q?q:0)});};p.prototype.$URIDownloader15=function(){'use strict';if(this.$URIDownloader8)return;if(this.$URIDownloader9){var q=null;if(this.$URIDownloader5)q=new Blob(this.$URIDownloader5);this.$URIDownloader9(q);}if(this.$URIDownloader10)this.$URIDownloader10(this.$URIDownloader5);};p.prototype.$URIDownloader16=function(q){'use strict';if(this.$URIDownloader8)return;if(this.$URIDownloader17(q)){if(this.$URIDownloader4<this.$URIDownloader2){this.$URIDownloader14();this.$URIDownloader18();}else this.$URIDownloader15();}else this.$URIDownloader19();};p.prototype.$URIDownloader19=function(){'use strict';if(this.$URIDownloader8)return;if(this.$URIDownloader11)this.$URIDownloader11();};p.prototype.$URIDownloader20=function(){'use strict';if(this.$URIDownloader8)return;if(this.$URIDownloader12)this.$URIDownloader12();};p.prototype.$URIDownloader21=function(){'use strict';var q=Math.min(this.$URIDownloader4+l,this.$URIDownloader2);this.$URIDownloader3=q-this.$URIDownloader4;};p.prototype.$URIDownloader17=function(q){'use strict';if(this.$URIDownloader8)return false;if(this.$URIDownloader3!==q.size)return false;this.$URIDownloader5.push(q);this.$URIDownloader4+=this.$URIDownloader3;this.$URIDownloader3=0;return true;};p.prototype.$URIDownloader18=function(){'use strict';if(this.$URIDownloader8)return;var q=new j(this.$URIDownloader1).setMethod('GET').setResponseType('blob').setResponseHandler(this.$URIDownloader16.bind(this)).setErrorHandler(this.$URIDownloader19.bind(this)).setAbortHandler(this.$URIDownloader20.bind(this)).setDownloadProgressHandler(function(t){if(t.loadedBytes)this.$URIDownloader14(t.loadedBytes);}.bind(this));this.$URIDownloader21();q.setRequestHeader('Range','bytes='+this.$URIDownloader4+'-'+(this.$URIDownloader4+this.$URIDownloader3-1));this.$URIDownloader7=q;var r=new k(q).setMaxAttempts(m).setBaseRetryDelayMs(n).setRetryBackoffFactor(o);this.$URIDownloader6=r;try{r.send();}catch(s){this.$URIDownloader19();}};p.prototype.sendRequest=function(){'use strict';this.$URIDownloader4=0;this.$URIDownloader18();};p.prototype.abort=function(){'use strict';this.$URIDownloader8=true;if(this.$URIDownloader7&&this.$URIDownloader7.abort){this.$URIDownloader7.abort();}else if(this.$URIDownloader12)this.$URIDownloader12();this.$URIDownloader22();};p.prototype.$URIDownloader22=function(){'use strict';this.$URIDownloader7=null;this.$URIDownloader5=null;this.$URIDownloader12=null;this.$URIDownloader11=null;this.$URIDownloader9=null;this.$URIDownloader13=null;};f.exports=p;}),null);
__d('VideoDownloadLogger',['Bootloader','CurrentUser','md5'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=null,l=null,m=2147483647,n='video_download';function o(){return Date.now();}function p(q){'use strict';q=q?q:{};this.$VideoDownloadLogger1=q;}p.prototype.$VideoDownloadLogger2=function(event,q){'use strict';q=babelHelpers['extends']({},q,this.$VideoDownloadLogger1);!event;if(!q.hasOwnProperty('time_ms'))q.time_ms=o();if(!q.hasOwnProperty('connectivity_type'))q.connectivity_type=l.getConnectivityType();var r={logData:q,event:event};k.post(n,r);};p.prototype.logEvent=function(event,q){'use strict';if(!k||!l){h.loadModules(["Banzai","MVideoUtils"],function(r,s){k=r;l=s;this.$VideoDownloadLogger2(event,q);}.bind(this),'VideoDownloadLogger');}else this.$VideoDownloadLogger2(event,q);};p.time=function(){'use strict';return Math.floor(Date.now()/1000);};p.generateSessionID=function(){'use strict';return j([i.getID(),p.time(),Math.random()*m].join(':'));};f.exports=p;}),null);
__d('MVideoCache',['VideoDownloadLogger','VideoDownloadLoggerEvent','VideoDownloadLoggerFields','VideoDownloadDeleteReason','VideoDownloadReason','emptyFunction','MLegacyDataStore','URIDownloader','MVideoCacheConfig','MVideoDownloadConfig','AsyncStorage','WebStorage'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=null,s=null,t={},u=500,v=4e+09,w=0,x={audio:'audio',video:'video'};function y(aa,ba){'use strict';this.$MVideoCacheStreamObject1=aa;this.$MVideoCacheStreamObject2=ba;if(aa.chunked){this.$MVideoCacheStreamObject3=ba===x.video?aa.videoChunkCount:aa.audioChunkCount;}else this.$MVideoCacheStreamObject3=1;this.$MVideoCacheStreamObject4=0;}y.prototype.getNextBuffer=function(aa){'use strict';if(this.$MVideoCacheStreamObject4>=this.$MVideoCacheStreamObject3){aa(null);}else{var ba=this.$MVideoCacheStreamObject4++;z.getCachedStream(this.$MVideoCacheStreamObject1,this.$MVideoCacheStreamObject2,function(ca){aa(ca);},aa,this.$MVideoCacheStreamObject1.chunked?ba:null);}};var z={DEFAULT_QUALITY_TAG:'default',DOWNLOAD_STARTED_TIME:'downloadStartedTime',DOWNLOAD_REASON:'downloadReason',OFFLINE_LIFESPAN:'offlineLifespan',VIEW_COUNT:'viewCount',RESOURCE_STATE:{loading:'loading',finished:'finished',error:'error'},ERROR:{QUOTA_EXCEEDED:1,NO_ACCESS:2},isDownloadInProgress:function aa(){return !z.isEmptyObject(t);},isSupported:function aa(){try{if(!r)r=c('AsyncStorage');if(!s)s=c('WebStorage');return s.getLocalStorage()&&window.indexedDB&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota;}catch(ba){r=null;s=null;return false;}},downloadVideo:function aa(ba,ca,da,ea,fa,ga){var ha=arguments.length<=6||arguments[6]===undefined?{}:arguments[6],ia=arguments.length<=7||arguments[7]===undefined?l.USER_INITIATED:arguments[7],ja=arguments.length<=8||arguments[8]===undefined?null:arguments[8],ka=JSON.parse(ca),la=z.createVideoResource(ka,ga),ma=z.createAudioResource(ka,ga);if(!la&&!ma){ea();return;}var na=[];la&&na.push(la);ma&&na.push(ma);var oa=z.calculateTotalSize(ca,ga),pa=z.createTracking(ba,oa,ka.offline_lifespan_ms,da,ea,fa,ga,ha.origin,ia,ja);if(!pa){ea();return;}var qa={};qa[j.EVENT_ORIGIN]=ha.origin;qa[j.EVENT_SUBORIGIN]=ha.suborigin;z.logEventTracking(pa,i.DOWNLOAD_REQUESTED,qa);z.flushAsyncStorage(function ra(){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(sa,ta){var ua=z.getTotalSizeOfLoadingResources();if(sa+pa.totalSize+ua<z.getMaxCacheUsage()&&pa.totalSize+ua+z.getMinFreeSpace()<ta){z.downloadPostQuotaCheck(pa,la,ma);}else{var va='Used: '+sa+' Remaining: '+ta+' MaxCacheUsage: '+z.getMaxCacheUsage()+' MinFreeSpace: '+z.getMinFreeSpace();z.onError(pa,z.ERROR.QUOTA_EXCEEDED,va);}},function(){z.onError(pa,z.ERROR.QUOTA_EXCEEDED);});});},getDownloadNotificationUri:function aa(ba){var ca=JSON.parse(ba);return ca&&ca.download_finished_notification_uri;},deleteVideoByID:function aa(ba,ca,da){var ea=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];ca=ca?ca:m;var fa=z.getTracking(ba),ga={};ga[j.EVENT_ORIGIN]=ea.origin;ga[j.EVENT_SUBORIGIN]=ea.suborigin;ga[j.REASON]=da||k.USER_INITIATED;if(fa){z.logEventTracking(fa,i.DOWNLOAD_CANCELLED,ga);z.deleteTracking(fa,true);}else z.logEvent(ba,i.DOWNLOAD_DELETED,ga);z.deleteCachedVideoFromStorage(ba,ca);},calculateTotalSize:function aa(ba,ca){var da=JSON.parse(ba),ea=z.getStreamsForQuality(da,ca);return ea&&z.calculateTotalSizeInState(ea,undefined);},getQualitiesFromResources:function aa(ba){var ca=JSON.parse(ba),da=ca&&ca.streams;if(!da)return null;var ea=null,fa={};for(var ga=0;ga<da.length;ga++){var ha=da[ga],ia=String(ha.mimetype);if(ia&&ia.startsWith(x.video)){var ja=ha.hasOwnProperty('quality')&&String(ha.quality);if(ja)fa[ja]=ha.size;}else if(ia&&ia.startsWith(x.audio))ea=ha;}if(ea)for(var ka in fa)if(fa.hasOwnProperty(ka)&&fa[ka])fa[ka]+=ea.size;return fa;},deleteVideosByID:function aa(ba,ca,da){if(z.isSupported())for(var ea=0;ea<ba.length;ea++){var fa=ba[ea];z.deleteVideoByID(fa,function(){ca(fa);},da);}},isVideoDownloaded:function aa(ba){if(z.isSupported()){var ca=z.getCachedVideoByID(ba);if(ca){return true;}else return false;}return false;},isVideoDownloading:function aa(ba){if(z.isSupported())return t&&t[ba];return false;},getVideoSize:function aa(ba,ca,da){if(z.isSupported()){var ea=z.getTracking(ba);if(ea)return ea.totalSize;var fa=z.getCachedVideoByID(ba);if(fa)return fa.totalSize;if(ca){var ga=z.calculateTotalSize(ca,da);if(ga&&ga>0)return ga;}}return null;},getVideoProgressByID:function aa(ba){if(z.isSupported()){var ca=z.getTracking(ba);if(ca)return ca.loaded;}return 0;},_fillMissingFieldsWithDefaults:function aa(ba,ca){for(var da=0;da<ca.length;da++){var ea=ca[da];if(ea===z.DOWNLOAD_STARTED_TIME&&!ba.hasOwnProperty(ea))ba.downloadStartedTime=0;if(ea===z.DOWNLOAD_REASON&&!ba.hasOwnProperty(ea))ba.downloadReason=l.USER_INITIATED;if(ea===z.OFFLINE_LIFESPAN&&!ba.hasOwnProperty(ea))ba.offlineLifespan=q.cache_default_offline_lifespan_ms;}return ba;},getCachedVideoByID:function aa(ba){if(!q.enabled&&!q.simulate_legacy_ux)return null;var ca=z.createPrefix(ba),da=null;try{da=s.getLocalStorage().getItem(ca);}catch(ea){}var fa=da&&JSON.parse(da);fa=fa&&z._fillMissingFieldsWithDefaults(fa,[z.DOWNLOAD_STARTED_TIME,z.DOWNLOAD_REASON,z.OFFLINE_LIFESPAN]);if(q.simulate_legacy_ux)return null;if(fa&&fa.chunked&&!q.cache_chunked_playback_enabled){setTimeout(function(){z.deleteVideoByID(ba,m,k.CHUNKED_PLAYBACK_NOT_SUPPORTED);},0);return null;}return fa;},getCachedVideosMetadata:function aa(){var ba=arguments.length<=0||arguments[0]===undefined?[]:arguments[0],ca=arguments.length<=1||arguments[1]===undefined?false:arguments[1],da={};if(!z.isSupported())return da;var ea=s.getLocalStorage(),fa=Object.keys(ea),ga=p.getUserPrefix();for(var ha in fa)if(fa.hasOwnProperty(ha)&&fa[ha])if(fa[ha].startsWith(ga)){var ia=z.getVideoIDFromStorageKey(fa[ha]),ja={};if(ba.length>0){var ka=null;try{ka=ea.getItem(fa[ha]);}catch(la){if(!ca)continue;}var ma=ka&&JSON.parse(ka);if((!ma||ma.chunked&&!q.cache_chunked_playback_enabled)&&!ca)continue;for(var na=0;na<ba.length;na++){var oa=ba[na];if(ma&&oa in ma)ja[oa]=ma[oa];}ja=z._fillMissingFieldsWithDefaults(ja,ba);}da[ia]=ja;}return da;},getCachedVideoIDs:function aa(){var ba=arguments.length<=0||arguments[0]===undefined?false:arguments[0];return Object.keys(z.getCachedVideosMetadata([],ba));},hasDownloadedVideos:function aa(){var ba=z.getCachedVideoIDs();return ba&&ba.length&&ba.length>0;},getDownloadingVideos:function aa(){var ba=Object.keys(t);return ba;},getVideoIDFromStorageKey:function aa(ba){var ca=p.PREFIX_SEPARATOR;return ba.split(ca)[2]||'';},getCachedVideo:function aa(ba){var ca=n.get(ba);return z.getCachedVideoByID(ca.videoID);},getCachedVideoStream:function aa(ba,ca,da){z.getCachedStream(ba,x.video,ca,da);},getCachedAudioStream:function aa(ba,ca,da){z.getCachedStream(ba,x.audio,ca,da);},getCachedVideoStreamObject:function aa(ba){return new y(ba,x.video);},getCachedAudioStreamObject:function aa(ba){return new y(ba,x.audio);},getMaxCacheUsage:function aa(){var ba=v;if(q&&q.hasOwnProperty('max_cache_usage'))ba=q.max_cache_usage;return ba;},getMinFreeSpace:function aa(){var ba=w;if(q&&q.hasOwnProperty('min_free_space'))ba=q.min_free_space;return ba;},downloadPostQuotaCheck:function aa(ba,ca,da){if(!z.addTracking(ba)){z.onError(ba);return;}ca&&z.sendResourceRequest(ba,ca);da&&z.sendResourceRequest(ba,da);},calculateTotalSizeInState:function aa(ba,ca){var da,ea=0,fa=ba.length;for(da=0;da<fa;da++){var ga=ba[da];if(!ca||ga.state===ca)ea+=ga.size;}return ea;},isEmptyObject:function aa(ba){for(var ca in ba)if(ba.hasOwnProperty(ca)&&ba[ca])return false;return true;},getTotalSizeOfLoadingResources:function aa(){var ba=0;for(var ca in t)if(t.hasOwnProperty(ca)&&t[ca]){var da=t[ca];ba+=z.calculateTotalSizeInState(da.resources,z.RESOURCE_STATE.loading);}return ba;},deleteCachedVideoFromStorage:function aa(ba,ca){var da=z.createPrefix(ba);try{s.getLocalStorage().removeItem(da);}catch(ea){}z.getObjectKeysFromAsyncStorageByPrefix(da,function(fa,ga){if(fa||!ga){ca();return;}try{r.multiRemove(ga,function(){ca();});}catch(ha){ca();}});},flushAsyncStorage:function aa(ba){var ca=z.createPrefix(0),da=['0'],ea=new Blob(da,{type:'text/html'});try{r.setItem(ca,ea,function(){try{r.removeItem(ca,function(){ba();});}catch(ha){ba();}});}catch(fa){try{r.removeItem(ca,function(){ba();});}catch(ga){ba();}}},getObjectKeysFromAsyncStorageByPrefix:function aa(ba,ca){try{r.getAllKeys(function(ea,fa){if(ea||!fa){ca(ea);return;}fa=fa.filter(function(ga){return ga.startsWith(ba);});ca(null,fa);});}catch(da){ca(da);}},getVideosFromAsyncStorage:function aa(ba){z.getObjectKeysFromAsyncStorageByPrefix(p.getUserPrefix(),function(ca,da){if(ca||!da){ba(ca);return;}var ea=da.map(z.getVideoIDFromStorageKey),fa=ea.reduce(function(ga,ha){ga[ha]=true;return ga;},{});ba(null,Object.keys(fa));});},makeLocalAsyncStorageConsistent:function aa(ba,ca){var da=z.getCachedVideoIDs(true);z.getVideosFromAsyncStorage(function(ea,fa){if(ea||!fa){ba();return;}var ga={},ha=da.concat(fa);ha.forEach(function(ia){if(!ga[ia]){ga[ia]=1;}else ga[ia]++;});ga=Object.keys(ga).filter(function(ia){return ga[ia]===1;});if(ga.length>0)z.deleteVideosByID(ga,ca,k.CONSISTENCY_CHECK);ba();});},getCachedStream:function aa(ba,ca,da,ea,fa){var ga=z.createPrefix(ba.videoID,ca,fa);try{r.getItem(ga,function(ia,ja){if(ia){z.deleteVideoByID(ba.videoID);ea();}else da(ja);});}catch(ha){z.deleteVideoByID(ba.videoID);ea();}},saveVideoInLocalStorage:function aa(ba){var ca=ba.videoID&&z.createPrefix(ba.videoID);try{s.getLocalStorage().setItem(ca,JSON.stringify(ba));}catch(da){throw da;}},saveCachedVideo:function aa(ba){var ca={};ca.downloadStartedTime=ba.downloadStartedTime;ca.downloadReason=ba.downloadReason;ca.videoID=ba.videoID;ca.quality=ba.quality;ca.audioCodec=z.getResourceCodec(ba,x.audio);ca.videoCodec=z.getResourceCodec(ba,x.video);ca.totalSize=ba.totalSize;ca.offlineLifespan=ba.offlineLifespan;ca.viewCount=0;ca.sessionID=ba.sessionID;ca.downloadOrigin=ba.origin;ca.chunked=ba.chunked;ca.videoChunkCount=ba.videoChunkCount;ca.audioChunkCount=ba.audioChunkCount;z.saveVideoInLocalStorage(ca);},logPlaybackRequest:function aa(ba,ca,da){var ea=null;if(ca){var fa=z.getCachedVideoByID(ba),ga=fa.viewCount||0;fa.viewCount=ga+1;z.saveVideoInLocalStorage(fa);}else ea=z.ERROR.NO_ACCESS;var ha={};ha[j.ERROR_CODE]=ea;ha[j.REASON]=da;z.logEvent(ba,i.REQUESTED_PLAYING,ha);},createPrefix:function aa(ba,ca,da){var ea=p.getUserPrefix()+ba+p.PREFIX_SEPARATOR+z.DEFAULT_QUALITY_TAG;if(ca)ea=ea+p.PREFIX_SEPARATOR+ca;if(da!=undefined&&da!=null)ea=ea+p.PREFIX_SEPARATOR+da;return ea;},createResource:function aa(ba,ca,da,ea){var fa={};fa.src=ba;fa.type=ca;fa.state=z.RESOURCE_STATE.loading;fa.codec=da;fa.size=ea;fa.progress=0;return fa;},getDefaultVideoStream:function aa(ba){var ca=null;for(var da=0;da<ba.length;da++){var ea=ba[da],fa=String(ea.mimetype);if(fa&&fa.startsWith(x.video)){ca=ea;if(ea['default'])return ea;}}return ca;},getStreamsForQuality:function aa(ba,ca){var da=[],ea=ba&&ba.streams,fa=false,ga=false;for(var ha=0;ha<ea.length;ha++){var ia=ea[ha],ja=String(ia.mimetype);if(ja&&ja.startsWith(x.video)&&!fa){var ka=String(ia.quality);if(ca&&ka&&ka===ca)fa=!!da.push(ia);}else if(ja&&ja.startsWith(x.audio)&&!ga)ga=!!da.push(ia);}if(!fa){var la=z.getDefaultVideoStream(ea);la&&da.push(la);}return da;},getUrlInfo:function aa(ba,ca,da){var ea=z.getStreamsForQuality(ba,da);if(!ea)return null;var fa=null;for(var ga=0;ga<ea.length;ga++){var ha=ea[ga],ia=String(ha.mimetype);if(ia&&ia.startsWith(ca)){fa=ha;break;}}return fa;},createVideoResource:function aa(ba,ca){var da=z.getUrlInfo(ba,x.video,ca);return da&&z.createResource(da.url,x.video,da.codecs,da.size);},createAudioResource:function aa(ba,ca){var da=z.getUrlInfo(ba,x.audio,ca);return da&&z.createResource(da.url,x.audio,da.codecs,da.size);},addTracking:function aa(ba){if(t[ba.videoID])return false;t[ba.videoID]=ba;return true;},createTracking:function aa(ba,ca,da,ea,fa,ga,ha,ia,ja,ka){var la={};la.videoID=ba;la.quality=ha||z.DEFAULT_QUALITY_TAG;la.onDone=ea;la.onError=fa;la.onProgress=ga;la.resources=[];la.deleted=false;la.loaded=0;la.totalSize=ca;la.offlineLifespan=da;la.sessionID=h.generateSessionID();la.origin=ia;la.logger=z.createLogger(la);la.downloadStartedTime=Date.now();la.chunked=q.cache_chunked_storage_enabled;la.loggingDataCallback=ka;la.downloadReason=ja;return la;},getTracking:function aa(ba){return t[ba];},deleteTracking:function aa(ba,ca){if(!ba.deleted){ba.deleted=true;t[ba.videoID]=null;if(ca){var da;for(da=0;da<ba.resources.length;da++)try{ba.resources[da].downloader&&ba.resources[da].downloader.abort();}catch(ea){}}}},getResourceCodec:function aa(ba,ca){var da,ea,fa;fa=ba.resources.length;for(ea=0;ea<fa;ea++){da=ba.resources[ea];if(da.type===ca)return da.codec;}return null;},updateTracking:function aa(ba,ca,da){var ea,fa,ga;if(ba.deleted)return;if(da)ca.state=da;if(ca.state===z.RESOURCE_STATE.finished)if(ca.type===x.video){ba.videoChunkCount=ca.chunkCount;}else if(ca.type===x.audio)ba.audioChunkCount=ca.chunkCount;if(ca.state===z.RESOURCE_STATE.loading){ba.resources.push(ca);}else{var ha=z.RESOURCE_STATE.finished;fa=ba.resources.length;for(ea=0;ea<fa;ea++){ga=ba.resources[ea];if(ga.state===z.RESOURCE_STATE.loading){ha=z.RESOURCE_STATE.loading;break;}else if(ga.state===z.RESOURCE_STATE.error)ha=z.RESOURCE_STATE.error;}if(ha===z.RESOURCE_STATE.error){z.deleteTracking(ba);z.deleteCachedVideoFromStorage(ba.videoID,function(){z.onError(ba);});}else if(ha===z.RESOURCE_STATE.finished)try{z.saveCachedVideo(ba);z.deleteTracking(ba);z.onDone(ba);}catch(ia){z.deleteCachedVideoFromStorage(ba.videoID,function(){z.onError(ba);});}}},trackProgress:function aa(ba){var ca=0;for(var da in ba.resources)if(ba.resources.hasOwnProperty(da))ca+=ba.resources[da].progress;ba.loaded=ca;var ea={};ea[j.BYTES_DOWNLOADED]=ba.loaded;z.logEventTracking(ba,i.DOWNLOAD_PROGRESS,ea);return ca;},sendResourceRequest:function aa(ba,ca){var da=new o(ca.src,ca.size);if(ba.chunked){da.setChunkedResponseHandler(function(ea){try{var ga=[];for(var ha=0;ha<ea.length;ha++){var ia=[],ja=z.createPrefix(ba.videoID,ca.type,ha);ia.push(ja);var ka=ea[ha];ia.push(ka);ga.push(ia);}r.multiSet(ga,function(la){ca.chunkCount=ea.length;z.updateTracking(ba,ca,la?z.RESOURCE_STATE.error:z.RESOURCE_STATE.finished);});}catch(fa){z.updateTracking(ba,ca,z.RESOURCE_STATE.error);}});}else da.setResponseHandler(function(ea){try{var ga=z.createPrefix(ba.videoID,ca.type);r.setItem(ga,ea,function(ha){z.updateTracking(ba,ca,ha?z.RESOURCE_STATE.error:z.RESOURCE_STATE.finished);});}catch(fa){z.updateTracking(ba,ca,z.RESOURCE_STATE.error);}});da.setErrorHandler(function(){z.updateTracking(ba,ca,z.RESOURCE_STATE.error);});da.setProgressHandler(function(ea){if(ea.total){ca.progress=ea.loaded;ba.onProgress(z.trackProgress(ba),ba.totalSize);}});da.setAbortHandler(function(){setTimeout(function(){z.updateTracking(ba,ca,z.RESOURCE_STATE.error);},u);});z.updateTracking(ba,ca);ca.downloader=da;da.sendRequest();},createLogger:function aa(ba){var ca={};ca[j.DOWNLOAD_ORIGIN]=ba.origin;ca[j.QUALITY]=ba.quality;ca[j.SESSION_ID]=ba.sessionID;ca[j.TOTAL_SIZE]=ba.totalSize;ca[j.VIDEO_ID]=ba.videoID;return new h(ca);},getLogger:function aa(ba){if(!ba.logger)return null;return ba.logger;},logEvent:function aa(ba,event,ca){var da=new h();ca=ca||{};ca[j.VIDEO_ID]=ba;var ea=z.getCachedVideoByID(ba);if(ea){ca[j.DOWNLOAD_ORIGIN]=ea.downloadOrigin;ca[j.SESSION_ID]=ea.sessionID;ca[j.TOTAL_SIZE]=ea.totalSize;ca[j.QUALITY]=ca[j.QUALITY]?ca[j.QUALITY]:ea.quality;ca[j.SAVED_OFFLINE]=1;}da.logEvent(event,ca);},logEventTracking:function aa(ba,event,ca){var da=this.getLogger(ba);ca=ca||{};if(!ca.hasOwnProperty(j.REASON))ca[j.REASON]=ba.downloadReason;if(ba.loggingDataCallback){var ea=ba.loggingDataCallback;ca=ea(ca);}ca[j.ELAPSED_TIME_MS]=Date.now()-ba.downloadStartedTime;da.logEvent(event,ca);},onError:function aa(ba,ca,da){var ea={};ea[j.ERROR_CODE]=ca;ea[j.ERROR]=da;z.logEventTracking(ba,i.DOWNLOAD_FAILED,ea);ba.onError(ca);},onDone:function aa(ba){z.logEventTracking(ba,i.DOWNLOAD_FINISHED);ba.onDone();}};f.exports=z;}),null);
__d('MVideoDownloadState',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DOWNLOADING:'downloading',DOWNLOADED:'downloaded',DELETING:'deleting',NOTDOWNLOADED:'notdownloaded'};f.exports=h;}),null);
__d('MVideoDownloadStateHandler',['MVideoDownloadState','MVideoCache'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=null;function k(){'use strict';this.$MVideoDownloadStateHandler1={};this.$MVideoDownloadStateHandler2={};}k.prototype.addListener=function(l,m){'use strict';if(!this.$MVideoDownloadStateHandler1[l])this.$MVideoDownloadStateHandler1[l]=[];this.$MVideoDownloadStateHandler1[l].push(m);};k.removeListeners=function(l){'use strict';if(this.$MVideoDownloadStateHandler3().$MVideoDownloadStateHandler1[l])this.$MVideoDownloadStateHandler3().$MVideoDownloadStateHandler1[l]=[];};k.prototype.setState=function(l,m){'use strict';l.forEach(function(n){this.$MVideoDownloadStateHandler2[n]=m;if(!this.$MVideoDownloadStateHandler1[n])return;var o=this.$MVideoDownloadStateHandler1[n];o.forEach(function(p){try{p.call(window,m);}catch(q){}});},this);};k.prototype.getState=function(l){'use strict';return this.$MVideoDownloadStateHandler2[l];};k.$MVideoDownloadStateHandler3=function(){'use strict';if(!j)j=new k();return j;};k.listen=function(l,m){'use strict';this.$MVideoDownloadStateHandler3().addListener(l,m);this.initializeState(l);};k.initializeState=function(l){'use strict';if(i.isVideoDownloaded(l)){k.downloaded([l]);}else if(i.isVideoDownloading(l)){k.downloading([l],i.getVideoProgressByID(l),i.getVideoSize(l));}else k.deleted([l]);};k.getState=function(l){'use strict';return this.$MVideoDownloadStateHandler3().getState(l);};k.downloading=function(l,m,n){'use strict';this.$MVideoDownloadStateHandler3().setState(l,{state:h.DOWNLOADING,loaded:m,total:n});};k.downloaded=function(l){'use strict';this.$MVideoDownloadStateHandler3().setState(l,{state:h.DOWNLOADED});};k.cleanup=function(l){'use strict';this.$MVideoDownloadStateHandler3().setState(l,{state:h.DELETING});};k.deleted=function(l,m){'use strict';this.$MVideoDownloadStateHandler3().setState(l,{state:h.NOTDOWNLOADED,errorMessage:m});};f.exports=k;}),null);
__d("XVideoCacheCleanUpController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video_cache_cleanup\/",{video_ids:{type:"StringVector",required:true}});}),null);
__d('MVideoCacheCleanUp',['MVideoCache','MVideoCacheConfig','MVideoDownloadStateHandler','MRequest','XVideoCacheCleanUpController','MVideoDownloadConfig','setTimeoutAcrossTransitions','VideoDownloadReason','VideoDownloadDeleteReason'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=10000,r=null,s={clean:function t(){s.deleteExpiredVideos();r=null;var u=h.getCachedVideoIDs(true);if(u.length==0){s.setLastCleanUpDate();return;}var v=l.getURIBuilder().setStringVector('video_ids',u).getURI(),w=new k(v);w.setMethod('POST');w.listen('done',function(x){var y=x.payload||{};if(!y.error){s.setLastCleanUpDate();var z=[].concat(y.offlineDisabled,y.unaccessible,y.unsaved);if(z.length>0)s.deleteVideosByID(z);}});w.send();},deleteExpiredVideos:function t(){var u=h.getCachedVideosMetadata([h.DOWNLOAD_STARTED_TIME,h.DOWNLOAD_REASON,h.OFFLINE_LIFESPAN]),v=[],w=Date.now(),x=w-m.cache_auto_downloaded_videos_caching_interval_ms;for(var y in u){var z=u[y];if(z.downloadReason===o.AUTO_INITIATED&&z.downloadStartedTime<x||z.downloadStartedTime<w-z.offlineLifespan)v.push(y);}if(v.length>0)s.deleteVideosByID(v);},deleteVideosByID:function t(u){h.deleteVideosByID(u,function(v){j.deleted([v]);},p.CACHE_SYNC);},requestCleanUp:function t(){if(i.isSupported()&&h.isSupported()){var u=s.getLastCleanUpDate(),v=Date.now()-m.cache_sync_interval_ms,w=u<v;if(w&&!r)r=n(function(){h.makeLocalAsyncStorageConsistent(s.clean,function(x){j.deleted([x]);});},q);}},getLastCleanUpDate:function t(){if(i.isSupported()){return i.getItemFromConfig(i.KEYS.lastCleanUp);}else return 0;},setLastCleanUpDate:function t(){if(i.isSupported()){var u=Date.now();i.setItemFromConfig(i.KEYS.lastCleanUp,u);}},checkAccess:function t(u){var v=u.downloadStartedTime,w=s.getLastCleanUpDate(),x=Math.max(v,w),y=Date.now();s.requestCleanUp();var z=x+m.allowed_offline_access_interval_ms,aa=z>y;return aa;}};f.exports=s;}),null);
__d("MVideoMediaSourceState",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";this.$MVideoMediaSourceState2=false;this.$MVideoMediaSourceState1=false;this.$MVideoMediaSourceState3=i;}h.prototype.getMediaSource=function(){"use strict";return this.$MVideoMediaSourceState3;};h.prototype.videoStreamEnded=function(){"use strict";this.$MVideoMediaSourceState2=true;this.$MVideoMediaSourceState4();};h.prototype.audioStreamEnded=function(){"use strict";this.$MVideoMediaSourceState1=true;this.$MVideoMediaSourceState4();};h.prototype.$MVideoMediaSourceState4=function(){"use strict";if(this.$MVideoMediaSourceState1&&this.$MVideoMediaSourceState2)this.$MVideoMediaSourceState3.endOfStream();};f.exports=h;}),null);
__d('SubRipText',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={size:'90%'};function i(t){var u=Number(t.substr(0,t.length-1)),v=t.substr(-1);switch(v){case 's':return u;case 'm':return u*60;case 'h':return u*3600;}var w=t.split(':');u=Number(w[w.length-1].replace(/,/,'.'));if(w.length>1)u+=Number(w[w.length-2])*60;if(w.length>2)u+=Number(w[w.length-3])*3600;return u;}function j(t){var u=t.split(/\r\n|\r|\n/).map(function(z){return z.trim();}),v=[],w=0;do{var x=u.indexOf('',w);if(x<0)x=u.length;var y=l(u.slice(w,x));if(y)v.push(y);w=x+1;}while(w>0&&w<u.length);return v;}function k(t){var u=t.split('-->');if(u.length!=2)return null;var v=i(u[0].trim()),w=i(u[1].trim());if(Number.isNaN(w)||Number.isNaN(v))return null;return {begin:v,end:w};}function l(t){if(t.length<3)return null;var u=m(t[0]),v=k(t[1]);if(!v)return null;return {counter:u,begin:v.begin,end:v.end,text:t.slice(2,6)};}function m(t){return Number(t.trim());}function n(t){var u=t.split('.');if(u[0].length<2)return '0'+u.join('.');return u.join('.');}function o(t){var u=n(Math.floor(t/3600).toString()),v=n(Math.floor(t%3600/60).toString()),w=n((t%60).toFixed(3));return u+':'+v+':'+w;}function p(t,u,v){var w='';if(v)for(var x in v)w+=' '+x+':'+v[x];return o(t)+' --> '+o(u)+w;}function q(t,u){return t.counter+'\n'+p(t.begin,t.end,u)+'\n'+t.text.join('\n')+'\n';}function r(t,u){return 'WEBVTT\n\n'+t.map(function(v){return q(v,u);}).join('\n');}function s(t){'use strict';this.$SubRipText1=j(t);this.$SubRipText1.sort(function(u,v){return u.counter-v.counter;});this.$SubRipText2=this.$SubRipText1.map(function(u,v){return v;}).sort(function(u,v){return (this.$SubRipText1[u].begin-this.$SubRipText1[v].begin);}.bind(this));this.invalidateCache();this.$SubRipText6=h;}s.prototype.$SubRipText7=function(t){'use strict';return this.$SubRipText1[this.$SubRipText2[t]];};s.prototype.$SubRipText8=function(t){'use strict';var u=this.$SubRipText3;while(u<this.$SubRipText2.length){var v=this.$SubRipText7(u);if(v.begin<=t){this.$SubRipText4.push(v);u++;}else break;}this.$SubRipText3=u;};s.prototype.$SubRipText9=function(t){'use strict';this.$SubRipText4=this.$SubRipText4.filter(function(u){return u.end>t;});};s.prototype.invalidateCache=function(){'use strict';this.$SubRipText5=0;this.$SubRipText4=[];this.$SubRipText3=0;};s.prototype.setStyle=function(t){'use strict';this.$SubRipText6=t;};s.prototype.getSubtitles=function(t){'use strict';if(t<this.$SubRipText5)this.invalidateCache();this.$SubRipText5=t;this.$SubRipText8(t);this.$SubRipText9(t);return this.$SubRipText4.reduce(function(u,v){return u.concat(v.text);},[]);};s.prototype.renderVTT=function(){'use strict';return r(this.$SubRipText1,this.$SubRipText6);};f.exports=s;}),null);
__d('MVideoSubtitles',['DOM','EventListener','SubRipText','XHRRequest','emptyFunction','getCrossOriginTransport'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=b.URL||b.webkitURL;function o(p){'use strict';this.$MVideoSubtitles1=p;this.$MVideoSubtitles2=l;}o.prototype.$MVideoSubtitles3=function(p){'use strict';var q=new j(p),r=new Blob([q.renderVTT()],{type:'text/vtt'});return n.createObjectURL(r);};o.prototype.loadSubtitles=function(p){'use strict';if(!n)return;new k(p).setTransportBuilder(m).setMethod('GET').setResponseHandler(function(q){this.$MVideoSubtitles4(this.$MVideoSubtitles3(q));}.bind(this)).send();};o.prototype.$MVideoSubtitles4=function(p){'use strict';var q=h.create('track',{kind:'captions',src:p});i.listen(q,'load',function(){this.$MVideoSubtitles2();}.bind(this));h.appendContent(this.$MVideoSubtitles1,q);this.hideSubtitles();};o.prototype.showSubtitles=function(){'use strict';Array.prototype.forEach.call(this.$MVideoSubtitles1.textTracks,function(p){return p.mode='showing';});};o.prototype.hideSubtitles=function(){'use strict';Array.prototype.forEach.call(this.$MVideoSubtitles1.textTracks,function(p){return p.mode='hidden';});};o.prototype.setOnSubtitlesReady=function(p){'use strict';this.$MVideoSubtitles2=p;};f.exports=o;}),null);
__d('Network',['mixInEventEmitter'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=true,j=b.navigator.connection,k={0:'unknown',1:'ethernet',2:'wifi',3:'2g',4:'3g'};function l(){return i;}function m(r){if(r==i)return;i=r;q.emit(r?'online':'offline');}function n(){return j?j.bandwidth:i?Infinity:0;}function o(){return j?j.metered:false;}function p(){var r=j?String(j.type):'0';return k[r]||r;}var q={getBandwidth:n,getType:p,isMetered:o,isOnline:l,setOnline:m};h(q,{online:true,offline:true});if(b.addEventListener){b.addEventListener('online',m.bind(null,true));b.addEventListener('offline',m.bind(null,false));}else if(b.attachEvent){b.attachEvent('online',m.bind(null,true));b.attachEvent('offline',m.bind(null,false));}f.exports=q;}),null);
__d('MVideoUtils',['Bootloader','CSS','DataAttributeUtils','DOM','MParent','MVideoSubtitles','SubscriptionsHandler','URI','Network','cx','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=null,t=null,u=null,v={PLAY_SIGIL:'playInlineVideo',INSERTION_POINT_SIGIL:'inlineVideo',LOADING_CLASS:"_2nmc",SHOWN_CLASS:"_53mu",SHOWN_CLASS_WITH_DOWNLOAD:"_2qoq",PLAYER_CLASS:"_53mv",SHOW_PAUSE_CLASS:"_3gzh",SPHERICAL_CLASS:"_4a1j",PLAYER_ID:{video:'mInlineVideoPlayer',iframe:'mInlineVideoFrame'},PLAYER_ATTRS:{video:function w(x){return {autobuffer:'true',controls:x?undefined:'controls','x-webkit-airplay':'allow'};},iframe:function w(){return {frameBorder:0};}},PLAYER_STATE:{playing:'playing',paused:'paused'},createNodeFromTag:function w(x,y,z){var aa=null;if(y||!z||z.id!==this.PLAYER_ID[x]){aa=k.create(x,this.PLAYER_ATTRS[x](!!y));}else aa=z;aa.id=this.PLAYER_ID[x];i.conditionClass(aa,this.PLAYER_CLASS,true);return aa;},onPlay:function w(x){i.conditionClass(x,this.SHOW_PAUSE_CLASS,false);},onPause:function w(x){i.conditionClass(x,this.SHOW_PAUSE_CLASS,true);},play:function w(x){r(function(){if(x)x.play();},100);},setVideoDimensions:function w(x,y){if(x.width)y.setAttribute('width',x.width);if(x.height)y.setAttribute('height',x.height);},setSubtitles:function w(x,y){var z;if(new o(x.subtitlesSrc).isCdnURI())(function(){var aa=new m(y);aa.setOnSubtitlesReady(function(){return aa.showSubtitles();});aa.loadSubtitles(x.subtitlesSrc);})();},setupListenersOnPlay:function w(x,y,z){if(!x)x=new n();x.addSubscriptions(k.listen(y,'pause',null,function(){return this.onPause(z);}.bind(this)),k.listen(y,'play',null,function(){return this.onPlay(z);}.bind(this)));},getStoryNode:function w(x){return x&&x.getNode('story-div');},getStoryNodeForVideoNode:function w(x){return l.bySigil(x,'story-div');},_handleLoggingOnPlayWithBootload:function w(x,y,z,aa){if(s.isLoggedIn()){aa=this.getStoryNode(x)||aa;if(aa){var ba=j.getDataFt(aa);if(ba){var ca={ft:JSON.parse(ba)};if(y){var da=y.getLogger();da.setFTData(ca);}if(z.fbid&&z.ownerID){ba=t.parse(ba,f.id);ba.video_info={video_id:z.fbid,owner_id:z.ownerID};ba=t.stringify(ba);}new u('/feedtracking/').setMethod('POST').setData({ft_data:ba,clicked_uri:z.src,tn:z.trackingNodes}).send();}}}},handleLoggingOnPlay:function w(x,y,z,aa){h.loadModules(["CurrentUser","FBJSON","MRequest"],function(ba,ca,da){s=ba;t=ca;u=da;v._handleLoggingOnPlayWithBootload(x,y,z,aa);},'MVideoUtils');},getHumanReadbleSize:function w(x){var y=1000,z=y*y,aa=y*y*y;if(x>aa){return this.formatNumber(x,aa,2)+' GB';}else return this.formatNumber(x,z,1)+' MB';},formatNumber:function w(x,y,z){return Math.ceil(x/(y/Math.pow(10,z)))/Math.pow(10,z);},getDownloadProgressText:function w(x,y){return v.getHumanReadbleSize(x)+' / '+v.getHumanReadbleSize(y);},getDownloadProgressPercentage:function w(x,y){var z=x/y*100;z=z.toFixed(1);return z.toString();},getConnectivityType:function w(){var x=p.getType(),y=null;if(x=='wifi'||x=='WIFI'){y='WIFI';}else if(x=='cellular'||x=='2g'||x=='3g'||x=='wwan')y='MOBILE';return y;},getNetworkBandwidth:function w(){var x=null;if('connection' in navigator)if('downlinkMax' in navigator.connection)x=navigator.connection.downlinkMax;var y=null;try{y=parseFloat(x);}catch(z){}return y;},getAvailableQualitiesString:function w(x){return x&&x.join(', ');},setAttributes:function w(x,y){if(y.spherical)x.setAttribute('crossorigin','anonymous');x.setAttribute('playInFullScreen',y.playInFullScreen);if(y.muted)x.setAttribute('muted',true);}};f.exports=v;}),null);
__d('showVideoUnavailableDialog',['MCustomDialog','fbt'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){var k=i._("\u5f71\u7247\u5df2\u7121\u6cd5\u63d0\u4f9b"),l=i._("\u8acb\u9023\u7dda\u5230\u7db2\u969b\u7db2\u8def\uff0c\u7136\u5f8c\u518d\u8a66\u4e00\u6b21\u3002"),m=i._("\u597d");h.show({titleString:k,descriptionString:l,dismissButtonString:m});}f.exports=j;}),null);
__d('MInlineVideo',['Bootloader','CSS','MLegacyDataStore','DOM','MInlineVideoUnit','MStopNGo','MVideoExperiments','MVideoUtils','MViewport','Stratcom','SubscriptionsHandler','VideoPlayerReason','MVideoCache','MVideoCacheCleanUp','MVideoDownloadConfig','MVideoMediaSourceState','MFullScreen','emptyFunction','isNodeWithinRect','showVideoUnavailableDialog'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba,ca,da,ea=false,fa=false,ga=s.USER,ha=o.PLAYER_STATE.paused,ia=null,ja=false,ka,la=null,ma,na=false,oa,pa=null,qa=false,ra=null,sa={playRequest:Function,registerPlayRequest:function zb(ac){this.playRequest=ac;},onComponentReady:function zb(){if(oa&&pa&&this.playRequest)this.playRequest();}};function ta(zb){ja=zb;if(fa)return;q.listen('click',o.PLAY_SIGIL,kb);q.listen('m:page:unload',null,za);q.listen(['m:jewel:flyout:open','m:popup:show','m:side-area:show'],null,ab);fa=true;}function ua(){if(ba&&ba.getAttribute('playInFullScreen')==='true'&&!x.isFullScreen()&&!ea){za();x.removeFullScreenEventListeners(window,ua);}}function va(zb){if(ja)q.invoke('m:video:player:fullscreenchange',null,{videoElement:zb,player:ba});}function wa(zb){if(!zb)zb=ca;return ba&&ba.parentNode===zb&&!ea;}function xa(){var zb=j.get(da);ra=zb.defaultQuality;var ac=zb.effectiveSrc,bc=zb.type;if(Array.isArray(ac)&&(bc!=='video'||ac.length===1))ac=ac[0];if(bc==='video'&&Array.isArray(ac)){ac.forEach(function(cc){ba.appendChild(k.create('source',cc));});}else if(ac)ba.setAttribute('src',ac);if(bc==='video')ba.load();}function ya(zb){if(zb){zb.setAttribute('src','');zb.load&&zb.load();}}function za(){var zb=null;if(!ba||!ba.parentNode)return;if(pa){pa.unload();pa=null;}if(ja)sb(da,true);if(oa){oa.unload();oa=null;}k.remove(ba);while(ba.hasChildNodes())ba.removeChild(ba.lastChild);ba.removeAttribute('src');if(j.get(da).type==='video'&&ba){ba.pause();if(ja)q.invoke('m:video:player:destroy',null,{videoElement:da,player:ba});zb=ba;ba=null;}i.conditionClass(da,o.SHOWN_CLASS,false);ea=false;da=null;ca=null;if(ma){na=false;ma&&ma.release();ma=null;}if(ka){ka.release();ka=null;}if(n.enablePlayerStateCleanup&&zb)ya(zb);zb=null;}function ab(){if(!wa())return;if(j.get(da).type!=='video'){za();}else if(ba){ba.pause();i.conditionClass(da,o.SHOWN_CLASS,false);ea=true;}}function bb(){return ga;}function cb(zb){var ac=j.get(da),bc=ac.type,cc=document.getElementById(o.PLAYER_ID[bc]),dc=n.enableSphericalVideo&&ac.spherical;if(!cc)cc=o.createNodeFromTag(bc,dc,zb);return cc;}function db(zb){var ac=o.PLAYER_STATE.paused;if(!zb||zb===da)ac=ha;return ac;}function eb(){return da;}function fb(zb){if(!ba||!ba.parentNode)return;ga=zb;ha=o.PLAYER_STATE.paused;ba.pause();}function gb(zb){if(!ba||!ba.parentNode)return;ga=zb;ha=o.PLAYER_STATE.playing;o.play(ba);}function hb(zb){ga=zb;}function ib(zb,ac){var bc=null,cc=null;if(ac.videoCodec){bc=zb.getMediaSource().addSourceBuffer('video/mp4; codecs="'+ac.videoCodec+'"');bc.addEventListener('updateend',function(){zb.videoStreamEnded();},false);}else zb.videoStreamEnded();if(ac.audioCodec){cc=zb.getMediaSource().addSourceBuffer('audio/mp4; codecs="'+ac.audioCodec+'"');cc.addEventListener('updateend',function(){zb.audioStreamEnded();},false);}else zb.audioStreamEnded();if(ac.videoCodec)t.getCachedVideoStream(ac,function(dc){var ec=new FileReader();ec.addEventListener('loadend',function(){bc.appendBuffer(ec.result);});ec.readAsArrayBuffer(dc);},y);if(ac.audioCodec)t.getCachedAudioStream(ac,function(dc){var ec=new FileReader();ec.addEventListener('loadend',function(){cc.appendBuffer(ec.result);});ec.readAsArrayBuffer(dc);},y);}function jb(zb,ac){var bc=null,cc=null,dc=null,ec=null,fc=function gc(hc,ic,jc){ic.getNextBuffer(function(kc){if(kc){var lc=new FileReader();lc.addEventListener('loadend',function(){hc.appendBuffer(lc.result);});lc.readAsArrayBuffer(kc);}else jc();});};if(ac.videoCodec){dc=t.getCachedVideoStreamObject(ac);bc=zb.getMediaSource().addSourceBuffer('video/mp4; codecs="'+ac.videoCodec+'"');bc.addEventListener('updateend',function(){fc(bc,dc,function(){zb.videoStreamEnded();});},false);}else zb.videoStreamEnded();if(ac.audioCodec){ec=t.getCachedAudioStreamObject(ac);cc=zb.getMediaSource().addSourceBuffer('audio/mp4; codecs="'+ac.audioCodec+'"');cc.addEventListener('updateend',function(){fc(cc,ec,function(){zb.audioStreamEnded();});},false);}else zb.audioStreamEnded();if(ac.videoCodec)fc(bc,dc,function(){zb.videoStreamEnded();});if(ac.audioCodec)fc(cc,ec,function(){zb.audioStreamEnded();});}function kb(zb,ac,bc,cc,dc){if(!ac)ac=zb.getNode(o.INSERTION_POINT_SIGIL);cc=cc||s.USER;var ec=j.get(ac),fc=t.isVideoDownloading(ec.videoID);if(fc)return;if(wa(ac))return;if(zb)zb.prevent();ec.effectiveSrc=ec.src;var gc=t.isSupported()&&ec.canUseOffline&&t.getCachedVideoByID(ec.videoID);if(gc){var hc=gc&&u.checkAccess(gc);t.logPlaybackRequest(ec.videoID,hc,cc);if(!hc){aa();return;}else{var ic=new w(new MediaSource());ic.getMediaSource().addEventListener('sourceopen',function(){if(v.cache_chunked_playback_enabled){jb(ic,gc);}else ib(ic,gc);},false);ec.effectiveSrc=window.URL.createObjectURL(ic.getMediaSource());}}ec.muted=!!bc;lb(zb,ac,ec,cc,dc);}function lb(zb,ac,bc,cc,dc){var ec;if(!ea){if(ja)q.invoke('m:video:player:prepare',null,{videoElement:ac,player:ba});za();da=ac;ba=cb(dc);if(ba!==dc){o.setAttributes(ba,bc);xa();ya(dc);}if(ia){ia.release();ia=null;}if(bc.videoID)ia=new l(bc,ba,null,cc,o.getStoryNodeForVideoNode(da));k.prependContent(da,ba);}i.conditionClass(da,o.SHOWN_CLASS,true);ea=false;qa=bc.spherical;o.setVideoDimensions(bc,ba);o.setSubtitles(bc,ba);if(bc.playOnClick&&bc.type==='video'){if(bc.spherical){sa.registerPlayRequest(function(){return gb(cc);});}else gb(cc);if(bc.playInFullScreen&&x.isSupported()){x.listenForFullScreenEvent(window,ua);x.enableFullScreen(ba);}}i.conditionClass(da,o.LOADING_CLASS,true);i.conditionClass(da,o.SPHERICAL_CLASS,qa);mb(da,bc);if(!oa&&n.enableSphericalVideo&&qa)(function(){var fc={toggleQuality:pb,getCurrentVideoQuality:function gc(){return ra;}};h.loadModules(["MEmbeddedVideoControls"],function(gc){oa=new gc(ba,da,fc);sa.onComponentReady();},'MInlineVideo');})();if(zb)o.handleLoggingOnPlay(zb,ia,bc);}function mb(zb,ac){if(!ka)ka=new r();if(!ma)ma=new r();ka.addSubscriptions(k.listen(ba,'pause',null,function(){return sb(zb);}),k.listen(ba,'play',null,function(){return rb(zb);}));if(qa&&n.enableSphericalVideo)ka.addSubscriptions(k.listen(ba,'loadedmetadata',null,function(){return ob(ac);}));if(ja){ka.addSubscriptions(k.listen(ba,'playing',null,function(){return tb(zb);}));ka.addSubscriptions(k.listen(ba,'ended',null,function(){return ub(zb);}));ka.addSubscriptions(k.listen(ba,'volumechange',null,function(){return vb(zb);}));if(x.isSupported()){if(la)x.removeFullScreenEventListeners(window,la);la=function bc(){return va(zb);};x.listenForFullScreenEvent(window,la);}}if(zb.readyState>=zb.HAVE_FUTURE_DATA){wb();}else ka.addSubscriptions(k.listen(ba,'canplay',null,wb));if(ac.animatedGifVideo)if(!na){ba.setAttribute('loop',true);na=true;ma.addSubscriptions(m.listen('go',yb));}}function nb(event,zb){if(ia){var ac={video_quality:ra};Object.assign(zb,ac);ia.logEvent(event,zb);}}function ob(zb){if(!qa||pa)return;qa=false;var ac=zb.sphericalParams,bc={projectionType:ac.projection,initialHeading:ac.initialYaw,initialPitch:ac.initialPitch,fieldOfView:ac.initialFieldOfView,expansionCoef:1.01},cc={disableTouchControls:ac.disableSphericalTouchControls},dc={videoID:zb.videoID,logEvent:nb,viewportConfig:cc};h.loadModules(["MVideoPlayerHTML5Spherical"],function(ec){pa=new ec(ba,bc,dc);sa.onComponentReady();},'MInlineVideo');}function pb(){var zb=j.get(da),ac=t.isSupported()&&t.getCachedVideoByID(zb.videoID);if(ac)return;var bc=zb.availableQualities;if(!bc)return;var cc;for(var dc in bc)if(bc.hasOwnProperty(dc)&&dc!==ra){cc=dc;break;}if(!cc)return;ra=cc;qb(bc[cc]);}function qb(zb){if(ba.tagName!=='VIDEO')return;ba.pause();var ac=ba.currentTime;ba.setAttribute('src',zb);ba.currentTime=ac;ba.load();ba.play();}function rb(zb){if(ja)q.invoke('m:video:player:play',null,{videoElement:zb,player:ba});ha=o.PLAYER_STATE.playing;i.conditionClass(da,o.SHOW_PAUSE_CLASS,false);}function sb(zb,ac){if(ja)q.invoke('m:video:player:pause',null,{videoElement:zb,player:ba,destroyed:ac});ha=o.PLAYER_STATE.paused;i.conditionClass(da,o.SHOW_PAUSE_CLASS,true);wb();}function tb(zb){if(ja)q.invoke('m:video:player:playing',null,{videoElement:zb,player:ba});}function ub(zb){if(ja)q.invoke('m:video:player:ended',null,{videoElement:zb,player:ba});}function vb(zb){if(ja)q.invoke('m:video:player:volumechange',null,{videoElement:zb,player:ba});}function wb(){i.conditionClass(da,o.LOADING_CLASS,false);}function xb(){var zb=p.getHeight(),ac=p.getWidth(),bc=p.getBoundingRect();return {bottom:zb,height:zb,left:bc.left,top:0,right:bc.left+ac,width:ac};}function yb(){var zb=xb(),ac=z(da,zb);if(ac&&!na&&ha==o.PLAYER_STATE.paused){ba.play();ha=o.PLAYER_STATE.playing;ba.setAttribute('loop',true);na=true;}else if(!ac&&na&&ha==o.PLAYER_STATE.playing){ba.pause();ha=o.PLAYER_STATE.paused;ba.setAttribute('loop',false);na=false;}}g.getLastActionReason=bb;g.getPlayerState=db;g.getPlayerDOMVideoElement=eb;g.pause=fb;g.play=gb;g.removePlayer=za;g.setLastActionReason=hb;g.setupListeners=ta;g.showPlayer=kb;}),null);
__d("HTMLMediaElementReadyStates",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h;}),null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){if(j.readyState>=h.HAVE_METADATA){return j.muted;}else return j.hasAttribute('muted')||j.muted;}f.exports=i;}),null);
__d('HVideoPlayerMixin',['EventListener','UserAgent','VideoPlayerLoggerEvent','VideoPlayerHTML5Experiments','getHTMLMediaElementMutedState'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=-1;function n(p,event){var q=event.timeStamp;if(q){var r=q.toString().length-Date.now().toString().length;if(r!==0)q=Math.round(q/Math.pow(10,r));p.time_ms=q;}else p.time_ms=Date.now();return p;}var o={initLogger:function p(q,r){this._loggedEvents={};this._logFunction=q;this._useEventTime=r;var s=this.getVideoElement();this._lastStartTimePosition=m;this._muted=l(s);this._pausedPosition=m;this._seeking=false;this._seekSourceTimePosition=m;this._volume=s.volume;this._logNextPlayingEvent=true;this._lastPlayedTime=m;var t=false;if(s.readyState>=s.HAVE_FUTURE_DATA){this._logReadyToPlay();}else t=true;if(this.skipSubscriptions())return;var u=this.getSubscriptions();if(t)u.addSubscriptions(h.listen(s,'canplay',this._logReadyToPlay.bind(this)));u.addSubscriptions(h.listen(s,'ended',this.onEnded.bind(this)),h.listen(s,'pause',this.onPause.bind(this)),h.listen(s,'playing',this.onPlaying.bind(this)),h.listen(s,'seeked',this.onSeeked.bind(this)),h.listen(s,'seeking',this.onSeeking.bind(this)),h.listen(s,'play',this.onPlay.bind(this)),h.listen(s,'loadedmetadata',this.onLoadedMetadata.bind(this)),h.listen(s,'timeupdate',this.onTimeUpdate.bind(this)),h.listen(s,'volumechange',this.onVolumeChange.bind(this)),h.listen(s,'representationended',this.onRepresentationEnded.bind(this)));},skipSubscriptions:function p(){return false;},onCanPlay:function p(q){this._logReadyToPlay(q);},onPlay:function p(q){this._logNextPlayingEvent=true;this._ignoreNextPlaying=false;this._pendingPlayRequest=true;},_logOnce:function p(event,q){if(this._loggedEvents[event])return;this._logEvent(event,q);},_logEvent:function p(event,q){this._loggedEvents[event]=true;var r=q?q:{};r.video_id=this.getVideoID();if(!r.hasOwnProperty('video_time_position'))r.video_time_position=this._getVideoCurrentTime();if(!r.time_ms)r.time_ms=Date.now();r.time=Math.round(r.time_ms/1000);if(this.getAdClientToken){var s=this.getAdClientToken();if(s)r.ad_client_token=s;}if(this.getPlayerFormat)r.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)r.player_origin=this.getPlayerOrigin();if(this.getPlayerSuborigin)r.player_suborigin=this.getPlayerSuborigin();this._logFunction(event,r);},_logReadyToPlay:function p(){this._logOnce(j.READY_TO_PLAY);},onPause:function p(q){this._logNextPlayingEvent=true;var r=this.getVideoElement();if(this._pendingPlayRequest){var s={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(j.CANCELLED_REQUESTED_PLAYING,s);return;}var event=r.ended?j.FINISHED_PLAYING:j.PAUSED,t=this._getVideoCurrentTime();if(t)this._lastPlayedTime=t;var u=this._lastPlayedTime,v=q.lastPauseReason;if(event===j.FINISHED_PLAYING){u=Math.max(u,r.duration);}else if(this.preventPauseLoggingInMixin===true){return;}else if(this.preventPauseLoggingInMixin===false)v=v||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===m?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:u,debug_reason:v},q));this._lastStartTimePosition=m;},onEnded:function p(){this._logNextPlayingEvent=true;if(this._lastStartTimePosition!==m&&i.isBrowser('IE'))this.onPause({});},onRepresentationEnded:function p(q){var r=q.detail;if(r){var s={representation_id:r.representationID,next_representation_id:r.nextRepresentationID,stream_switch_reason:r.streamSwitchReason};if(k.newStateChangeCalculation){var t=this.getVideoElement();this._lastPlayedTime=this._getVideoCurrentTime();var u=this._lastPlayedTime;s=this._amendEventTime(babelHelpers['extends']({video_last_start_time_position:this._lastStartTimePosition===m?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:u},s),q);}this._logEvent(j.REPRESENTATION_ENDED,s);if(k.newStateChangeCalculation){var v=this._getVideoCurrentTime();this._lastStartTimePosition=v;this._lastPlayedTime=v;}}},addWatchTimeData:function p(q){if(this._lastStartTimePosition!=m&&this._lastPlayedTime!=m){q.video_last_start_time_position=this._lastStartTimePosition;q.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=m;}return q;},getLastPlayReason:function p(){return null;},getVideoPlayReason:function p(){return null;},onPlaying:function p(q){if(!this._logNextPlayingEvent)return;if(k.superficialUnpauseEventsFix)this._logNextPlayingEvent=false;if(this._ignoreNextPlaying){this._ignoreNextPlaying=false;return;}var r=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[j.STARTED_PLAYING]?j.UNPAUSED:j.STARTED_PLAYING,s=this._amendEventTime({debug_reason:r,video_play_reason:this.getVideoPlayReason()},q),t=this._getVideoCurrentTime();if(k.useCurrentTimeAdjustment){var u=this.getVideoElement().currentTime,v=u-t;s.time_ms-=Math.round(v*1000);}this._logEvent(event,s);this._lastStartTimePosition=t;this._lastPlayedTime=t;this._currentTimeAtLoadedMetadataCache=null;},allowNextSeekInMixin:function p(){this._allowNextSeek=true;},onSeeked:function p(q){this._seeking=false;var r=this._seekSourceTimePosition;this._seekSourceTimePosition=m;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){if(!this._pendingPlayRequest)this._ignoreNextPlaying=true;return;}this._allowNextSeek=false;this._ignoreNextPlaying=false;var s={video_seek_source_time_position:r};if(this._lastStartTimePosition!==m){s.video_last_start_time_position=this._lastStartTimePosition;}else s.video_last_start_time_position=r;this._logEvent(j.SCRUBBED,this._amendEventTime(s,q));var t=this.getVideoElement();if(t.paused){this._lastStartTimePosition=m;}else this._lastStartTimePosition=this._getVideoCurrentTime();},onSeeking:function p(q){this._currentTimeAtLoadedMetadataCache=null;if(!this._seeking){this._seekSourceTimePosition=this._getVideoCurrentTime();this._seeking=true;}},onTimeUpdate:function p(q){this._currentTimeAtLoadedMetadataCache=null;var r=this.getVideoElement();if(!r.paused)this._lastPlayedTime=this._getVideoCurrentTime();},onVolumeChange:function p(q){var r=this.getVideoElement(),s={},event=null;if(k.useFixedVolumeLogging){var t=r.muted,u=this._muted,v=r.volume,w=this._volume;s.current_volume=Math.round(v*100);this._volume=v;this._muted=t;var x=t||v==0,y=u||w==0;if(y&&x)return;if(y!=x){if(x){event=j.MUTED;}else event=j.UNMUTED;}else{if(w==v)return;if(v<w){event=j.VOLUME_DECREASE;}else event=j.VOLUME_INCREASE;}}else{if(r.muted!==this._muted&&r.volume===this._volume&&r.volume>0){event=r.muted?j.MUTED:j.UNMUTED;}else{event=r.volume>this._volume?j.VOLUME_INCREASE:j.VOLUME_DECREASE;s.current_volume=Math.round(r.volume*100);}this._muted=r.muted;this._volume=r.volume;}this._logEvent(event,this._amendEventTime(s,q));},_amendEventTime:function p(q,event){if(this._useEventTime){return n(q,event);}else q.time_ms=Date.now();return q;},_getVideoCurrentTime:function p(){var q=this.getVideoElement().currentTime.toFixed(2);if(k.useCurrentTimeAdjustment)if(this._currentTimeAtLoadedMetadataCache!=null)q=this._currentTimeAtLoadedMetadataCache.toFixed(2);if(k.fixCurrentTimeType)return +q;return q;},onLoadedMetadata:function p(q){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime;}};f.exports=o;}),null);
__d('VideoPlayerLoggerErrorStates',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'};}),null);
__d('VideoPlayerLoggerErrors',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={ENTERED_FALLBACK:'entered_fallback',ERROR_CALLING_FLASH:'error_calling_flash'};}),null);
__d('VideoPlayerLoggerFallbackReasons',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={TIMEOUT:'timeout',FLASH_ERROR:'flash_error',FLASH_UNAVAILABLE:'flash_unavailable'};}),null);
__d('VideoPlayerLoggerPlayerStates',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={STARTED:'started',UNPAUSED:'unpaused'};}),null);
__d('VideoPlayerLogger',['Banzai','ErrorUtils','TimeSpentImmediateActiveSecondsLogger','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerSource','VideoPlayerInitializationEvent','VideoPlayerLoggerPlayerStates','ex','performanceAbsoluteNow'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=k.useBanzaiVitalForLive,v=k.discerningAbandonStallLogging,w='video_player',x=5000,y=function aa(){return k.useMonotonicallyIncreasingTimers?t():Date.now();};function z(aa,ba){this.$VideoPlayerLogger2=aa;this.$VideoPlayerLogger3=null;this.$VideoPlayerLogger6={};this.$VideoPlayerLogger4=ba;this.$VideoPlayerLogger8=0;this.$VideoPlayerLogger9=0;this.$VideoPlayerLogger7=[];this.$VideoPlayerLogger15=0;this.$VideoPlayerLogger16=0;this.$VideoPlayerLogger20();this.$VideoPlayerLogger21();}z.prototype.updateSource=function(aa){this.$VideoPlayerLogger2=aa;};z.prototype.getSource=function(){return this.$VideoPlayerLogger2;};z.prototype.logEvent=function(event,aa){aa=babelHelpers['extends']({},aa,this.$VideoPlayerLogger4);aa.initial_event=!this.$VideoPlayerLogger6.hasOwnProperty(event);if(!aa.hasOwnProperty('time_ms'))aa.time_ms=y();if(!aa.hasOwnProperty('time'))aa.time=Math.round(aa.time_ms/1000);aa.is_stalling=this.$VideoPlayerLogger22();aa.error_user_info=this.$VideoPlayerLogger23(aa.error_user_info);if(this.$VideoPlayerLogger3)Object.assign(aa,this.$VideoPlayerLogger3);switch(event){case q.PLAYER_INITIALIZATION:this.$VideoPlayerLogger5=aa.time_ms;break;case q.REQUESTED_PLAYING:case q.STARTED_PLAYING:case q.PLAYER_ALLOCATED:case q.PLAYER_SENT_REQUEST:case q.PLAYER_RECEIVED_FIRST_BYTE:case q.BUFFER_READY:case q.METADATA_READY:if(!aa.initial_event)break;aa.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger5;break;}switch(event){case l.REQUESTED_PLAYING:this.$VideoPlayerLogger20();this.$VideoPlayerLogger24();if(this.$VideoPlayerLogger6[l.STARTED_PLAYING]){aa.state=r.UNPAUSED;}else aa.state=r.STARTED;break;case l.STARTED_PLAYING:case l.UNPAUSED:case l.FINISHED_PLAYING:case l.CANCELLED_REQUESTED_PLAYING:case l.ERROR:case l.PAUSED:case l.REPRESENTATION_ENDED:if(event==l.REPRESENTATION_ENDED&&!this.$VideoPlayerLogger6[l.STARTED_PLAYING])break;if(event===l.STARTED_PLAYING||event===l.UNPAUSED)this.$VideoPlayerLogger25();if(event===l.ERROR&&aa.state!==n.PLAYBACK_FAILURE)break;if(event===l.CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger6[l.STARTED_PLAYING]){aa.state=r.UNPAUSED;}else aa.state=r.STARTED;this.$VideoPlayerLogger26();this.$VideoPlayerLogger27();if(event===l.PAUSED||event===l.FINISHED_PLAYING){if(v&&event===l.FINISHED_PLAYING)return;aa.recent_stalls_count=this.$VideoPlayerLogger28();}this.$VideoPlayerLogger29();this.$VideoPlayerLogger30(aa);this.$VideoPlayerLogger31(aa);this.$VideoPlayerLogger21();if(v)this.$VideoPlayerLogger25();this.$VideoPlayerLogger20();break;}var ba={logData:aa,event:event,scriptPath:this.$VideoPlayerLogger1,source:this.$VideoPlayerLogger2};if(!event)i.reportError(new Error(s('VideoPlayerLogger: Missing event name')),false);this.$VideoPlayerLogger6[event]=true;if(this.$VideoPlayerLogger2===p.ANIMATED_IMAGE_SHARE)return null;if(aa.ad_client_token||u&&aa.playback_is_live_streaming){h.post(w,ba,h.VITAL);}else h.post(w,ba);if(event===l.FINISHED_PLAYING||event===l.PAUSED){var ca=aa.time_ms||y(),da=aa.video_time_position-aa.video_last_start_time_position;if(da>=0)j.maybeReportActiveInterval('video',ca-Math.floor(da*1000),ca);}return ba;};z.prototype.setScriptPath=function(aa){this.$VideoPlayerLogger1=aa;};z.prototype.setFTData=function(aa){this.$VideoPlayerLogger3=aa;};z.prototype.startBuffering=function(aa){this.$VideoPlayerLogger24(aa);};z.prototype.endBuffering=function(){this.$VideoPlayerLogger27();this.$VideoPlayerLogger32();this.$VideoPlayerLogger26();this.$VideoPlayerLogger29();};z.prototype.startInterrupt=function(){this.$VideoPlayerLogger33();};z.prototype.endInterrupt=function(){this.$VideoPlayerLogger27();this.$VideoPlayerLogger32();};z.prototype.$VideoPlayerLogger22=function(){return this.$VideoPlayerLogger12>0;};z.prototype.$VideoPlayerLogger24=function(aa){if(this.$VideoPlayerLogger22())return;this.$VideoPlayerLogger12=Date.now();if(aa!==undefined&&this.$VideoPlayerLogger6[l.STARTED_PLAYING])this.$VideoPlayerLogger13=aa;};z.prototype.$VideoPlayerLogger33=function(){if(this.$VideoPlayerLogger34())return;this.$VideoPlayerLogger17=Date.now();};z.prototype.$VideoPlayerLogger34=function(){return this.$VideoPlayerLogger17>0;};z.prototype.$VideoPlayerLogger35=function(){if(!this.$VideoPlayerLogger34())return 0;return Date.now()-this.$VideoPlayerLogger17;};z.prototype.$VideoPlayerLogger36=function(){return this.$VideoPlayerLogger22()?Date.now()-this.$VideoPlayerLogger12:0;};z.prototype.$VideoPlayerLogger27=function(){if(this.$VideoPlayerLogger34()){var aa=this.$VideoPlayerLogger35();this.$VideoPlayerLogger18+=aa;this.$VideoPlayerLogger16+=aa;this.$VideoPlayerLogger19+=1;this.$VideoPlayerLogger15+=1;}};z.prototype.$VideoPlayerLogger32=function(){if(this.$VideoPlayerLogger34())this.$VideoPlayerLogger17=0;};z.prototype.$VideoPlayerLogger21=function(){this.$VideoPlayerLogger18=0;this.$VideoPlayerLogger19=0;this.$VideoPlayerLogger32();};z.prototype.$VideoPlayerLogger26=function(){if(this.$VideoPlayerLogger22()){var aa=this.$VideoPlayerLogger36();if(this.$VideoPlayerLogger13!==null)this.$VideoPlayerLogger14=aa;this.$VideoPlayerLogger11+=aa;this.$VideoPlayerLogger9+=aa;this.$VideoPlayerLogger10++;this.$VideoPlayerLogger8++;if(v)this.$VideoPlayerLogger7.push(y());}};z.prototype.$VideoPlayerLogger29=function(){if(this.$VideoPlayerLogger22())this.$VideoPlayerLogger12=0;};z.prototype.$VideoPlayerLogger23=function(aa){if(aa&&typeof aa=='object')return JSON.stringify(aa);return aa;};z.prototype.getCumulativeStallCount=function(){return this.$VideoPlayerLogger8;};z.prototype.getCumulativeStallTime=function(){return this.$VideoPlayerLogger9+this.$VideoPlayerLogger36();};z.prototype.getCumulativeInterruptCount=function(){return this.$VideoPlayerLogger15;};z.prototype.getCumulativeInterruptTime=function(){return this.$VideoPlayerLogger16+this.$VideoPlayerLogger35();};z.prototype.$VideoPlayerLogger30=function(aa){aa.stall_time=Math.max(0,this.$VideoPlayerLogger11);aa.stall_count=this.$VideoPlayerLogger10;if(this.$VideoPlayerLogger14){aa.first_stall_time=this.$VideoPlayerLogger14;aa.first_stall_start_position=this.$VideoPlayerLogger13;}};z.prototype.$VideoPlayerLogger31=function(aa){aa.interrupt_time=Math.max(0,this.$VideoPlayerLogger18);aa.interrupt_count=this.$VideoPlayerLogger19;};z.prototype.$VideoPlayerLogger28=function(){var aa=y(),ba=aa-x;this.$VideoPlayerLogger7=this.$VideoPlayerLogger7.filter(function(ca){return ca>=ba;});if(!v)if(this.$VideoPlayerLogger10>0)this.$VideoPlayerLogger7.push(aa);return this.$VideoPlayerLogger7.length;};z.prototype.$VideoPlayerLogger20=function(){this.$VideoPlayerLogger11=0;this.$VideoPlayerLogger12=0;this.$VideoPlayerLogger10=0;this.$VideoPlayerLogger13=null;this.$VideoPlayerLogger14=0;};z.prototype.$VideoPlayerLogger25=function(){this.$VideoPlayerLogger7=[];};z.Sources=p;z.Errors=m;z.FallbackReasons=o;z.ErrorStates=n;z.PlayerStates=r;f.exports=z;}),null);
__d('HVideoPlayerLoggerMixin',['HVideoPlayerMixin','EventListener','VideoPlayerLogger','VideoPlayerLoggerEvent','VideoPlayerVersions'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={},n={initLogger:function o(){i.listen(this.getVideoElement(),'play',function(){return this._onPlayLogUnmute();}.bind(this));this._logger=new j(j.Sources.HTML5);var p=function(event,q){var r=this.getSavedOffline(),s=this.getConnectivityType();q=babelHelpers['extends']({},q,{player_version:l.HTML5,saved_offline:r,connectivity_type:s});if(event===k.UNMUTED)this._unmutedWasLogged=true;this._logger.logEvent(event,q);}.bind(this);h.initLogger.call(this,p);},_onPlayLogUnmute:function o(){var p=this.getLastPlayReason();if(!this._unmutedWasLogged&&!this.getVideoElement().muted&&p=='user_initiated')this._logEvent(k.UNMUTED);},getLogger:function o(){return this._logger;},getAdClientToken:function o(){if(this.getConfig){var p=this.getConfig();if(p.ad_client_token)return p.ad_client_token;}},getSavedOffline:function o(){return null;},logDisplayed:function o(){this._logEvent(k.DISPLAYED,{is_auto_played:true});},logEvent:function o(event,p){this._logEvent(event,p);}};Object.assign(m,h);Object.assign(m,n);f.exports=m;}),null);
__d('MInlineVideoUnit',['DataAttributeUtils','HVideoPlayerLoggerMixin','Stratcom','StratcomManager','SubscriptionsHandler','MInlineVideo','MVideoCache','MVideoUtils','VideoPlayerReason','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r,s;if(c.__markCompiled)c.__markCompiled();var t=['canplay','play','seeked','seeking'];r=babelHelpers.inherits(u,q(i));s=r&&r.prototype;function u(v,w,x,y,z){'use strict';s.constructor.call(this);this.$MInlineVideoUnit1=new l();this.$MInlineVideoUnit2=w;this.$MInlineVideoUnit3=v.videoID;this.$MInlineVideoUnit4=v.playerOrigin;this.$MInlineVideoUnit5=v.playerFormat;this.$MInlineVideoUnit6=v.playerSuborigin;this.$MInlineVideoUnit7=y||p.USER;t.forEach(function(event){k.enableDispatch(this.$MInlineVideoUnit2,event);}.bind(this));this.initLogger();if(z){var aa=h.getDataFt(z),ba={ft:JSON.parse(aa)};this.getLogger().setFTData(ba);}j.listen('m:page:unload',null,function(){this.$MInlineVideoUnit1.release();j.removeCurrentListener();}.bind(this));}u.prototype.release=function(){'use strict';this.$MInlineVideoUnit1.release();};u.prototype.getPlayerFormat=function(){'use strict';return this.$MInlineVideoUnit5;};u.prototype.getPlayerOrigin=function(){'use strict';return this.$MInlineVideoUnit4;};u.prototype.getPlayerSuborigin=function(){'use strict';return this.$MInlineVideoUnit6;};u.prototype.getSubscriptions=function(){'use strict';return this.$MInlineVideoUnit1;};u.prototype.getVideoElement=function(){'use strict';return this.$MInlineVideoUnit2;};u.prototype.getVideoID=function(){'use strict';return this.$MInlineVideoUnit3;};u.prototype.getSavedOffline=function(){'use strict';return n.isVideoDownloaded(this.$MInlineVideoUnit3);};u.prototype.getConnectivityType=function(){'use strict';return o.getConnectivityType();};u.prototype.getLastPlayReason=function(){'use strict';return m.getLastActionReason();};u.prototype.getVideoPlayReason=function(){'use strict';return this.$MInlineVideoUnit7;};f.exports=u;}),null);
__d('MCurationOneClickButton',['CSS','DOM','MLegacyDataStore','MRequest','SaveState','SaveStateHandler','Stratcom','MVideoUtils','MVideoCache','emptyFunction','cx','destroyOnUnload'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t='curation-one-click-save-button',u='curation-one-click-unsave-button',v='MCurationOneClickButton_instance',w="_5qgu",x="_5qgv",y="_jhc",z='m-video-download-progress',aa="_5bn2",ba="_4gxh",ca=null;function da(ea,fa,ga,ha,ia,ja,ka,la){'use strict';this.$MCurationOneClickButton1=ea;this.$MCurationOneClickButton2=ga;this.$MCurationOneClickButton3=ha;this.$MCurationOneClickButton4=ia;this.$MCurationOneClickButton5=ja;this.$MCurationOneClickButton6=la&&p.isSupported();this.$MCurationOneClickButton7=false;this.$MCurationOneClickButton8(this.$MCurationOneClickButton1,t);this.$MCurationOneClickButton8(this.$MCurationOneClickButton1,u);da.$MCurationOneClickButton9();m.listen(fa,function(ma){switch(ma){case l.SAVING:h.removeClass(ea,w);h.addClass(ea,x);this.$MCurationOneClickButton10()&&h.addClass(ea,y);this.$MCurationOneClickButton7=true;break;case l.SAVED:h.removeClass(ea,w);h.removeClass(ea,x);this.$MCurationOneClickButton10()&&h.removeClass(ea,y);this.$MCurationOneClickButton7=false;break;case l.UNSAVING:h.addClass(ea,w);h.addClass(ea,x);this.$MCurationOneClickButton7=true;break;case l.UNSAVED:h.addClass(ea,w);h.removeClass(ea,x);this.$MCurationOneClickButton10()&&h.removeClass(ea,y);this.$MCurationOneClickButton7=false;break;}}.bind(this));}da.prototype.$MCurationOneClickButton8=function(ea,fa){'use strict';var ga={};ga[v]=this;var ha=i.find(ea,'*',fa);j.set(ha,ga);};da.prototype.$MCurationOneClickButton10=function(){'use strict';return this.$MCurationOneClickButton6;};da.prototype.$MCurationOneClickButton11=function(ea){'use strict';this.$MCurationOneClickButton12();if(!this.$MCurationOneClickButton7){m.saving(this.$MCurationOneClickButton2);var fa=function(){m.unsaved(this.$MCurationOneClickButton2);}.bind(this),ga=function(ha){this.$MCurationOneClickButton13(this.$MCurationOneClickButton3,ha,fa);}.bind(this);if(ea){ea(ga,fa);}else ga();}};da.prototype.$MCurationOneClickButton14=function(ea){'use strict';this.$MCurationOneClickButton12();if(!this.$MCurationOneClickButton7){this.$MCurationOneClickButton13(this.$MCurationOneClickButton4,ea,function(){m.saved(this.$MCurationOneClickButton2);}.bind(this));m.unsaving(this.$MCurationOneClickButton2);}};da.prototype.$MCurationOneClickButton13=function(ea,fa,ga){'use strict';var ha=new k(ea);ha.listen('error',ga);fa&&ha.listen('done',fa);ha.send();};da.prototype.$MCurationOneClickButton12=function(){'use strict';this.$MCurationOneClickButton5&&this.$MCurationOneClickButton5.disableNux();};da.handleSave=function(ea){'use strict';var fa=ea.getNode(t),ga=j.get(fa)[v],ha=null;if(ga.$MCurationOneClickButton10()){var ia=ea.getNode(o.INSERTION_POINT_SIGIL),ja=i.find(ia,'span',z);if(ja){h.removeClass(ja,ba);h.addClass(ja,aa);}if(ia)ha=function ka(la,ma){var na=j.get(ia);if(na)p.downloadVideo(na.videoID,na.downloadResources,function(){la(function(){var oa=p.getDownloadNotificationUri(ia),pa=new k(oa);pa.send();});},ma,function(oa,pa){if(ja)i.setContent(ja,o.getHumanReadbleSize(oa)+' / '+o.getHumanReadbleSize(pa));});};}ga&&ga.$MCurationOneClickButton11(ha);};da.handleUnsave=function(ea){'use strict';var fa=ea.getNode(u),ga=j.get(fa)[v],ha=q;if(ga.$MCurationOneClickButton10()){var ia=ea.getNode(o.INSERTION_POINT_SIGIL);if(ia){var ja=i.find(ia,'span',z);if(ja){h.removeClass(ja,aa);h.addClass(ja,ba);}ha=function ka(){var la=j.get(ia);if(la)p.deleteVideo(la.videoID,q,q);};}}ga&&ga.$MCurationOneClickButton14(ha);};da.$MCurationOneClickButton9=function(){'use strict';if(ca)return null;ca=[n.listen('click',t,function(ea){da.handleSave(ea);}),n.listen('click',u,function(ea){da.handleUnsave(ea);})];s(function(){while(ca.length)ca.pop().remove();ca=null;});};f.exports=da;}),null);
__d('MVideoPlaybackState',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={NORMAL_PLAYBACK:'normalplayback',SLOW_PLAYBACK:'slowplayback',NOT_STARTED_PLAYBACK:'notstartedplayback'};f.exports=h;}),null);
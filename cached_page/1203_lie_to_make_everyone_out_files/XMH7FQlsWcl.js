if (self.CavalryLogger) { CavalryLogger.start_js(["wzjEP"]); }

__d("FBFeedLocations",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NEWSFEED:1,GROUP:2,GROUP_PERMALINK:3,COMMUNITY:4,PERMALINK:5,SHARE_OVERLAY:6,PERMALINK_STREAM:7,GROUP_PINNED:8,FRIEND_LIST:9,TIMELINE:10,HASHTAG_FEED:11,TOPIC_FEED:12,PAGE:13,NOTIFICATION_FEED:14,GROUP_REPORTED:15,GROUP_PENDING:16,PAGES_FEED_IN_PAGES_MANAGER:17,TICKER_CLASSIC:18,PAGES_SUGGESTED_FEED_IN_PAGES_MANAGER:19,SEARCH:20,GROUP_SEARCH:21,NO_ATTACHMENT:22,EMBED:23,EMBED_FEED:24,ATTACHMENT_PREVIEW:25,STORIES_TO_SHARE:26,PROMPT_PERMALINK:27,TREND_HOVERCARD:28,OPEN_GRAPH_PREVIEW:30,HOTPOST_IN_PAGES_FEED:31,SCHEDULED_POSTS:32,TIMELINE_NOTES:33,PAGE_INSIGHTS:34,COMMENT_ATTACHMENT:35,PAGE_TIMELINE:36,GOODWILL_THROWBACK_PERMALINK:37,LIKE_CONFIRM:39,GOODWILL_THROWBACK_PROMOTION:40,SPACES_FEED:41,BROWSE_CONSOLE:42,GROUP_FOR_SALE_COMPACT:43,ENTITY_FEED:44,GROUP_FOR_SALE_DISCUSSION:45,PAGES_CONTENT_TAB_PREVIEW:46,GOODWILL_THROWBACK_SHARE:47,TIMELINE_VIDEO_SHARES:48,EVENT:49,PAGE_PLUGIN:50,SRT:51,PAGES_CONTENT_TAB_INSIGHTS:52,ADS_PE_CONTENT_TAB_INSIGHTS:53,PAGE_ACTIVITY_FEED:54,VIDEO_CHANNEL:55,POST_TO_PAGE:56,GROUPS_GSYM_HOVERCARD:57,GROUP_POST_TOPIC_FEED:58,FEED_SURVEY:59,PAGES_MODERATION:60,SAVED_DASHBOARD:61,PULSE_SEARCH:62,GROUP_NUX:63,GROUP_NUX_POST_VIEW:64,EVENT_PERMALINK:65,FUNDRAISER_PAGE:66,EXPLORE_FEED:67,CRT:68,REVIEWS_FEED:69,VIDEO_HOME_CHANNEL:70,NEWS:71,TIMELINE_FRIENDSHIP:72,SAVED_REMINDERS:73,PSYM:74,ADMIN_FEED:75,CAMPFIRE_NOTE:76,PAGES_CONTEXT_CARD:77,ACTIVITY_LOG:78,WALL_POST_REPORT:79,TIMELINE_BREAKUP:80,POLITICIANS_FEED:81,PRODUCT_DETAILS:82,SPORTS_PLAY_FEED:83,GROUP_TOP_STORIES:84,PAGE_TIMELINE_PERMALINK:86,OFFERS_WALLET:87,INSTREAM_VIDEO_IN_LIVE:88,SPOTLIGHT:89,SEARCH_DERP:90,SOCIAL_BALLOT:91,GROUP_SUGGESTIONS_WITH_STORY:92,SOCIAL_BALLOT_PERMALINK:93,LOCAL_SERP:94,FUNDRAISER_SELF_DONATION_FEED:95,MY_ACTIVITY:96,CONVERSATION_NUB:97,GROUP_TOP_SALE_STORIES:98,GROUP_LEARNING_COURSE_UNIT_FEED:99,SUPPORT_INBOX_READ_TIME_BLOCK:100,PAGE_POSTS_CARD:101,CRISIS_POST:102,SUPPORT_INBOX_GROUP_RESPONSIBLE:103,PAGE_POST_DIALOG:104,CRISIS_DIALOG_POST:105,PAGE_LIVE_VIDEOS_CARD:106,PAGE_POSTS_CARD_COMPACT:107,GROUP_MEMBER_BIO_FEED:108,LIVE_COMMENT_ATTACHMENT:109,GROUP_COMPOSER:110,GROUP_INBOX_GROUP:111,GROUP_INBOX_AGGREGATED:112,ENDORSEMENTS:113,EVENTS_DASHBOARD:114};}),null);
__d("MSiteMessengerDiodeLoggerEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FAST_APP_SWITCH_ATTEMPT:"fast_app_switch_attempt",FAST_APP_SWITCH_FAIL:"fast_app_switch_fail",DIODE_ROADBLOCK_QP_LOAD_FAIL:"diode_roadblock_qp_load_fail"};}),null);
__d("MFirefoxAppDetect",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){if(!navigator.mozApps){j();return;}if(window.locationbar&&!window.locationbar.visible){i();return;}if(navigator.mozApps.getSelf){var k=navigator.mozApps.getSelf();k.onsuccess=function(){k.result?i():j();};k.onerror=j;}else j();}g.isFirefoxApp=h;}),null);
__d('MPageHeaderLeft',['$','DOM','MFirefoxAppDetect'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={};function l(n){if(!k.back_button){var o=h('page');k.back_button=i.find(o,'a','back-button');k.menu_button=i.find(o,'a','menu-link');}if(n.show_back_button){i.hide(k.menu_button);i.show(k.back_button);}else{i.hide(k.back_button);i.show(k.menu_button);}}var m=function n(o){var p=window.navigator;if(p.standalone||k.isMozApp){l(o);}else if(k.isMozApp===undefined){k.lastConfig=o;j.isFirefoxApp(function q(){k.isMozApp=true;if(o===k.lastConfig){n(o);delete k.lastConfig;}},function q(){k.isMozApp=false;});}};g.main=m;}),null);
__d('GeneratedLoggerUtils',['Banzai','invariant'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.post;if(window.location.search.indexOf('showlog')>-1)j=function l(m,n,o){h.post(m,n,o);};var k={log:j,serializeVector:function l(m){if(!m)return m;if(Array.isArray(m))return m;if(m.toArray){var n=m;return n.toArray();}if(typeof m==='object'&&m[typeof Symbol==='function'?Symbol.iterator:'@@iterator'])return Array.from(m);i(0);},serializeMap:function l(m){if(!m)return m;if(m.toJS){var n=m;return n.toJS();}if(typeof m==='object'&&m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']){var o=m,p={};for(var q=o,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++];}else{s=q.next();if(s.done)break;t=s.value;}var u=t;p[u[0]]=u[1];}return p;}if(Object.prototype.toString.call(m)==='[object Object]')return m;i(0);},checkExtraDataFieldNames:function l(m,n){Object.keys(m).forEach(function(o){!!n.hasOwnProperty(o)?i(0):void 0;});},warnForInvalidFieldNames:function l(m,n,o,p){},throwIfNull:function l(m,n){!m?i(0):void 0;return m;}};f.exports=k;}),null);
__d('MSiteMessengerDiodeTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){this.clear();}k.prototype.log=function(){i.log('logger:MSiteMessengerDiodeLoggerConfig',this.$MSiteMessengerDiodeTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:MSiteMessengerDiodeLoggerConfig',this.$MSiteMessengerDiodeTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$MSiteMessengerDiodeTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$MSiteMessengerDiodeTypedLogger1=babelHelpers['extends']({},this.$MSiteMessengerDiodeTypedLogger1,m);return this;};k.prototype.setEvent=function(m){this.$MSiteMessengerDiodeTypedLogger1.event=m;return this;};k.prototype.setMessagingEntryPoint=function(m){this.$MSiteMessengerDiodeTypedLogger1.messaging_entry_point=m;return this;};k.prototype.setMsiteDiodeStateFromClient=function(m){this.$MSiteMessengerDiodeTypedLogger1.msite_diode_state_from_client=m;return this;};k.prototype.setVC=function(m){this.$MSiteMessengerDiodeTypedLogger1.vc=m;return this;};var l={event:true,messaging_entry_point:true,msite_diode_state_from_client:true,vc:true};f.exports=k;}),null);
__d("XMSiteDiodeMessengerLoggingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messenger\/log\/",{log:{type:"Bool",defaultValue:false}});}),null);
__d('MessagesJewelNativeAppRedirect',['Stratcom','URI','MRequest','XMSiteDiodeMessengerLoggingController','MSiteMessengerDiodeTypedLogger','MSiteMessengerDiodeLoggerEvent','MHistory','MJewels'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p={registerOpenURIStringForIOS:function q(r,s){function t(event){if(event.getData().jewel==='messages'){var u=k.getURIBuilder().setBool('log',true).getURI(),v=new j(u);v.listen('done',function(w){if(s){var x=new i(r);x.go();}});v.listen('error',function(w){if(s){var x=new i(r);x.go();}});v.send();}}h.listen('m:jewel:flyout:open',null,t);},registerRedirect:function q(r,s,t,u,v){function w(event){if(event.getData().jewel==='messages'){var x=k.getURIBuilder().setBool('log',true).getURI();new j(x).send();if(t){new l().setEvent(m.FAST_APP_SWITCH_ATTEMPT).setMessagingEntryPoint(s).setMsiteDiodeStateFromClient(u).log();var y=new i(r);y.go();if(v)n.popSoftState(o.MESSAGES);}}}h.listen('m:jewel:flyout:open',null,w);}};f.exports=p;}),null);
__d('MHome',['Stratcom'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(){h.listen('m:page:unload',null,function(j){h.invoke('m:homepage:unload');h.removeCurrentListener();});h.invoke('m:homepage:load');}f.exports={init:i};}),null);
__d("Time",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getGMTOffset:function i(j){var k=new Date(),l=k.getTimezoneOffset()/30,m=k.getTime()/1000,n=Math.round((j-m)/1800),o=Math.round(l+n)%48;if(o>24){o-=Math.ceil(o/48)*48;}else if(o<-28)o+=Math.ceil(o/-48)*48;return o*30;}};f.exports=h;}),null);
__d('Base64',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';function i(m){m=m.charCodeAt(0)<<16|m.charCodeAt(1)<<8|m.charCodeAt(2);return String.fromCharCode(h.charCodeAt(m>>>18),h.charCodeAt(m>>>12&63),h.charCodeAt(m>>>6&63),h.charCodeAt(m&63));}var j='>___?456789:;<=_______'+'\x00\x01\x02\x03\x04\x05\x06\x07\b\t\n\x0b\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19'+'______\x1a\x1b\x1c\x1d\x1e\x1f !"#$%&\'()*+,-./0123';function k(m){m=j.charCodeAt(m.charCodeAt(0)-43)<<18|j.charCodeAt(m.charCodeAt(1)-43)<<12|j.charCodeAt(m.charCodeAt(2)-43)<<6|j.charCodeAt(m.charCodeAt(3)-43);return String.fromCharCode(m>>>16,m>>>8&255,m&255);}var l={encode:function m(n){n=unescape(encodeURI(n));var o=(n.length+2)%3;n=(n+'\0\0'.slice(o)).replace(/[\s\S]{3}/g,i);return n.slice(0,n.length+o-2)+'=='.slice(o);},decode:function m(n){n=n.replace(/[^A-Za-z0-9+\/]/g,'');var o=n.length+3&3;n=(n+'AAA'.slice(o)).replace(/..../g,k);n=n.slice(0,n.length+o-3);try{return decodeURIComponent(escape(n));}catch(p){throw new Error('Not valid UTF-8');}},encodeObject:function m(n){return l.encode(JSON.stringify(n));},decodeObject:function m(n){return JSON.parse(l.decode(n));},encodeNums:function m(n){return String.fromCharCode.apply(String,n.map(function(o){return h.charCodeAt((o|-(o>63))&-(o>0)&63);}));}};f.exports=l;}),null);
__d('ViewportTrackingHooks',['Base64'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={},j=[],k={registerFeedObject:function l(m,n){i[m]=h.encode(n);},updateVisibleViewportObjects:function l(m){var n=[],o=false;for(var p=0;p<m.length;p++){var q=m[p],r=q.id;while(!(r in i)&&q.firstChild!=undefined&&q.firstChild.id!=undefined&&q.firstChild.id.startsWith("u_")){r=q.firstChild.id;q=q.firstChild;}if(r in i){n.push(i[r]);if(!(p in j)||j[p]!=i[r])o=true;}}if(!o&&j.length!=n.length)o=true;if(o){j=n;if(typeof __EXT__updateVisibleViewportObjects==='function')__EXT__updateVisibleViewportObjects(j);}}};f.exports=k;}),null);
__d('MViewportTracking',['Banzai','DataAttributeUtils','DOM','FBJSON','MViewport','Stratcom','Style','Vector','ViewportTrackingHooks','Visibility','invariant','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=97,u=200;function v(){this.$MViewportTracking2=[];this.activeStories={};this.cachedViewportHeight=0;this.discardVPVDIntervalThreshold=90000;this.isLoose=false;this.isTimeTrackingEnabled=false;this.latestTimeTrackingTimestamp=0;this.maxScrollPosition=0;this.minSizeToBeVisible=0;this.readStoryIDs={};this.relaxedMinSize=false;this.throttleNoDelay=false;this.trackingHooks=false;this.vpvdDebug=false;this.vpvDebug=false;}v.prototype.getDataFromConfig=function(w){r(0);};v.prototype.getStoryID=function(w){r(0);};v.prototype.getDataToLog=function(w){r(0);};v.prototype.sendDataToLog=function(w){r(0);};v.prototype.getTimeout=function(){r(0);};v.prototype.getAllStories=function(){r(0);};v.prototype.init=function(w){this.isLoose=!!w.is_loose;this.throttleNoDelay=!!w.throttle_no_delay;this.relaxedMinSize=!!w.relaxed_min_size;this.vpvDebug=!!w.vpv_debug;this.trackingHooks=!!w.tracking_hooks;this.isTimeTrackingEnabled=false;this.cachedViewportHeight=l.getHeight();this.getDataFromConfig(w);this.maxScrollPosition=0;this.readStoryIDs={};this.fireEvent();this.$MViewportTracking2=[m.listen('m:page:unload',null,this.onUnload.bind(this)),m.listen('m:viewport:update-complete',null,function(){this.cachedViewportHeight=l.getHeight();}.bind(this))];if(w.triggerOverride){this.$MViewportTracking2=this.$MViewportTracking2.concat(w.triggerOverride.map(function(x){var event=x[0],y=x[1];return m.listen(event,y,this.queueLogAction.bind(this));}.bind(this)));}else this.$MViewportTracking2.push(m.listen('scroll',null,this.queueLogAction.bind(this)));if(this.isTimeTrackingEnabled){this.$MViewportTracking2.push(q.addListener(q.VISIBLE,function(){return this.startRecordingTimeTrackingData();}.bind(this)));this.$MViewportTracking2.push(q.addListener(q.HIDDEN,function(){return this.stopRecordingTimeTrackingData();}.bind(this)));}};v.prototype.getFBFeedLocation=function(){return -1;};v.prototype.unitTestOnlyGetListeners=function(){return [].concat(this.$MViewportTracking2);};v.prototype.getMinSizeToBeVisible=function(w){if(!this.relaxedMinSize)return u;var x='getBoundingClientRect' in w?w.getBoundingClientRect().height:o.getDim(w).y;return Math.min(u,x*.5);};v.prototype.fireEvent=function(){var w=this.getAllStoriesInView();for(var x=0;x<w.length;x++){var y=w[x],z=this.getStoryID(y);if(!z||z in this.readStoryIDs)continue;this.readStoryIDs[z]=true;this.sendDataToLog(this.getDataToLog(y));if(this.vpvDebug){var aa=j.scry(y,'div')[0];if(aa)n.set(aa,'background-color','#fffbe2');}this.markStoryRead(y);}if(this.trackingHooks)p.updateVisibleViewportObjects(this.getAllStoriesInView(true));};v.prototype.markStoryRead=function(w){};v.prototype.queueLogAction=function(){if(this.isLoose){if(!this.$MViewportTracking3)this.$MViewportTracking3=s(function(){if(this.isTimeTrackingEnabled)this.startRecordingTimeTrackingData();this.$MViewportTracking3=null;this.maxScrollPosition=Math.max(this.maxScrollPosition,l.getScrollTop());if(!this.throttleNoDelay){clearTimeout(this.$MViewportTracking1);this.$MViewportTracking1=s(function(){return this.fireEvent();}.bind(this),this.getTimeout());}else this.fireEvent();}.bind(this),100);}else{clearTimeout(this.$MViewportTracking1);this.$MViewportTracking1=s(function(){if(this.isTimeTrackingEnabled)this.startRecordingTimeTrackingData();this.fireEvent();}.bind(this),this.getTimeout());}};v.prototype.getTimetrackingDataToLog=function(w){return {evt:t,fbfeed_location:this.getFBFeedLocation(),story_height:w.story_height,viewport_height:this.cachedViewportHeight,vpvd_start_timestamp:w.evp_ts/1000,vpvd_time_delta:Math.round(w.vpvd||0)};};v.prototype.recordTimeStoryWasInView=function(w){if(this.isTimeTrackingEnabled&&w.vpvd>0){var x=this.getTimetrackingDataToLog(w);if(typeof x!=='string'){var y=i.getDataFt(w.story);if(y)x=babelHelpers['extends']({},x,k.parse(y,f.id));}this.sendTimetrackingDataToLog(x);}};v.prototype.startRecordingTimeTrackingData=function(){this.$MViewportTracking4(false);};v.prototype.stopRecordingTimeTrackingData=function(){this.$MViewportTracking4(true);};v.prototype.$MViewportTracking4=function(w){if(!this.activeStories)this.activeStories={};var x=Date.now();if(!this.latestTimeTrackingTimestamp)this.latestTimeTrackingTimestamp=x;var y=this.getAllStoriesInView();this.updateVPVDurations(x);this.updateActiveStories(y,x);this.recordVPVDurations(y,w);this.latestTimeTrackingTimestamp=w?0:x;};v.prototype.updateVPVDurations=function(w){var x=w-this.latestTimeTrackingTimestamp;if(x>this.discardVPVDIntervalThreshold)return;var y=w-this.latestTimeTrackingTimestamp;for(var z in this.activeStories)if(this.activeStories.hasOwnProperty(z))this.activeStories[z].vpvd+=y;};v.prototype.isVisible=function(w,x){for(var y=0;y<x.length;y++)if(this.getStoryID(x[y])===w)return true;return false;};v.prototype.recordVPVDurations=function(w,x){this.recordVPVDurationsInternal(w,x);};v.prototype.recordVPVDurationsInternal=function(w,x){for(var y in this.activeStories)if(this.activeStories.hasOwnProperty(y))if(x||!this.isVisible(y,w)){this.recordTimeStoryWasInView(this.activeStories[y]);delete this.activeStories[y];}};v.prototype.updateActiveStories=function(w,x){for(var y=0;y<w.length;y++){var z=this.getStoryID(w[y]);if(!z)break;if(!(z in this.activeStories))this.activeStories[z]={evp_ts:x,story:w[y],vpvd:0,story_height:w[y].offsetHeight};this.activeStories[z].ts=x;}};v.prototype.getAllStoriesInView=function(){var w=arguments.length<=0||arguments[0]===undefined?false:arguments[0],x=[],y=this.getAllStories(),z=l.getScrollTop(),aa=l.getHeight(),ba=this.isLoose,ca=aa+this.maxScrollPosition-z;for(var da=0;da<y.length;da++){var ea=y[da],fa=this.getStoryBounds(z,ea),ga=fa.top,ha=fa.bottom;if(!ga&&!ha)continue;var ia=this.getMinSizeToBeVisible(ea);if(!ba&&ga>aa-ia)break;var ja=!ba&&ga<=aa-ia&&ha>=ia||ba&&ga<ca;if(w&&(ha<0||ga>aa))ja=false;if(ja)x.push(ea);}return x;};v.prototype.getStoryBounds=function(w,x){if('getBoundingClientRect' in x){var y=x.getBoundingClientRect();return {bottom:y.bottom,top:y.top};}else{var z=o.getPos(x).y-w;return {top:z,bottom:z+o.getDim(x).y};}};v.prototype.cleanup=function(){this.$MViewportTracking2.forEach(function(w){return w.remove();});this.$MViewportTracking2=[];};v.prototype.onUnload=function(){if(this.isTimeTrackingEnabled)this.stopRecordingTimeTrackingData();this.cleanup();};v.prototype.sendTimetrackingDataToLog=function(w){this.sendDataToLog(w);};f.exports=v;}),null);
__d('compactArray',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=[];for(var k=0;k<i.length;++k){var l=i[k];if(l!=null)j.push(l);}return j;}f.exports=h;}),null);
__d('MCommentViewportTracking',['Banzai','DOM','FBJSON','MParent','MViewportTracking','Stratcom','StratcomManager','compactArray'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p,q;if(c.__markCompiled)c.__markCompiled();var r=null,s={m_group_stories_container:'group',m_newsfeed_stream:'',m_story_permalink_view:'',structured_composer_async_container:'user',root:''};p=babelHelpers.inherits(t,l);q=p&&p.prototype;t.loadedReplies=function(){m.invoke('m:commentViewportTracking:loadedReplies');};t.singleton=function(u){if(!r){u.triggerOverride=[['scroll',null],['m:commentViewportTracking:loadedReplies',null]];n.enableDispatch(document,'scroll');r=new t();r.init(u);}};t.init=function(u){t.singleton(u);};t.prototype.getDataFromConfig=function(u){this.isTimeTrackingEnabled=true;this.idle_timeout=u.idle_timeout;this.min_duration_to_log=u.min_duration_to_log;this.min_visible_size=u.min_visible_size;};t.prototype.__getRootNode=function(){if(!this.$MCommentViewportTracking1)this.$MCommentViewportTracking1=o(Object.keys(s).map(function(u){return document.getElementById(u);}))[0]||null;return this.$MCommentViewportTracking1;};t.prototype.getAllStories=function(){var u=this.__getRootNode();if(!u)return [];return i.scry(this.__getRootNode(),'div','comment-body');};t.prototype.getTimeout=function(){return this.min_duration_to_log;};t.prototype.getDataToLog=function(u){return {};};t.prototype.getStoryID=function(u){var v=u.getAttribute('data-commentid');if(!v)return null;return v;};t.prototype.getContainerModule=function(){var u=this.__getRootNode();if(!u||!(u.id in s))return 'other';return s[u.id];};t.prototype.getTimetrackingDataToLog=function(u){var v=u.story,w=k.bySigil(u.story,'story-div'),x=j.parse(w.getAttribute('data-ft'),f.id);return {comment_id:this.getStoryID(v),duration_ms:Math.round(u.vpvd),container_module:this.getContainerModule(),mf_story_key:x?x.top_level_post_id:null};};t.prototype.sendDataToLog=function(u){if(u.comment_id)h.post('comment_vpvd',u);};function t(){p.apply(this,arguments);}f.exports=t;}),null);
__d('MEntstreamViewportTracking',['Banzai','DOM','FBFeedLocations','FBJSON','MViewport','MViewportTracking','StratcomManager','Vector'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p,q;if(c.__markCompiled)c.__markCompiled();var r=51;p=babelHelpers.inherits(s,m);q=p&&p.prototype;s.init=function(t){n.enableDispatch(document,'scroll');new s().init(t);};s.prototype.getDataFromConfig=function(t){this.isLoose=true;this.isTimeTrackingEnabled=!!t.vpvd_logging;this.shouldWaterfallLogging=!!t.should_waterfall_logging;};s.prototype.__getStreamRoot=function(){if(!this.$MEntstreamViewportTracking1)this.$MEntstreamViewportTracking1=document.getElementById('root');return this.$MEntstreamViewportTracking1;};s.prototype.getFBFeedLocation=function(){return j.NEWSFEED;};s.prototype.getAllStories=function(){return i.scry(this.__getStreamRoot(),'article','story-div');};s.prototype.getTimeout=function(){return 300;};s.prototype.getDataToLog=function(t){var u=Object.assign(k.parse(t.getAttribute('data-ft'),f.id),{evt:r}),v,w,x;if('getBoundingClientRect' in t){v=t.getBoundingClientRect();w=v.height;x=v.top+l.getScrollTop();}else{w=o.getDim(t).y;x=o.getPos(t).y;}u.evt_value=w;u.offset=x;u.story_height=w;u.impression_type=l.isLandscape()?'landscape':'portrait';if(this.shouldWaterfallLogging){u.should_waterfall_logging=1;u['interface']='m_touch';}return u;};s.prototype.getWaterfallData=function(t,u){var v=this.getDataToLog(t);v.step=u;return v;};s.prototype.getStoryID=function(t){var u=t.getAttribute('data-ft');if(!u)return null;return k.parse(u,f.id).mf_story_key;};s.prototype.sendDataToLog=function(t){h.post('feed_tracking',{ft:t});};function s(){p.apply(this,arguments);}f.exports=s;}),null);
__d('MInputFocus',['DOM','MViewport','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={scrollTo:function l(m,n){j(function(){h.hide(m);i.scrollTo(0,n);h.show(m);m.setSelectionRange(m.selectionEnd,m.selectionEnd);},0);}};f.exports=k;}),null);
__d('prefetchImage',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=true,l=new Image();l.onload=function(){k=false;j&&j();};l.src=i;return {cancel:function m(){if(!k)return;k=false;l.onload=null;l.src='data:image/gif;base64,'+'R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';}};}f.exports=h;}),null);
__d('MPhotoStage',['setTimeoutAcrossTransitions','CSS','cx','DOM','Stratcom','Vector','MLegacyDataStore','MURI','MRequest','MViewport','MInputFocus','MJSEnvironment','prefetchImage'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=false,v='photo-stage',w='photo-image',x='facebox',y='new-tag-placeholder',z='photos-input-tag',aa='photo-tag-loading',ba='popup-nub',ca='tokenizer-input',da='transfer-focus-container',ea=2000,fa=200,ga=null,ha=null,ia=null,ja=null;function ka(sa,ta,ua){var va=0,wa=q.getUseableWidth();if(ua>wa){va=ua-wa;}else if(ta<0)va=ta;if(va===0)return sa;return new m(sa.x-va,sa.y);}function la(sa){if(!sa)return;i.conditionClass(sa,"_57-n",!!ia);if(ia){clearTimeout(ia);ia=null;}else ia=h(function(){la(sa);},ea);}function ma(){ga=null;while(ja.length)ja.pop().remove();u=false;if(ia){clearTimeout(ia);ia=null;}}function na(sa){var ta=m.getPos(sa),ua=m.getDim(sa),va=m.getPos(ga),wa=new m(ta.x+ua.x/2,ta.y+ua.x-va.y),xa=k.find(ga,'*',aa);wa.setPos(xa);k.show(xa);}function oa(sa,ta,ua){var va=new o(sa.write_tag_uri);va.addQueryData('id',sa.owner_id);va.addQueryData('facebox_id',ta.facebox_id);va.addQueryData('replace_id',y);va.addQueryData('sd_source',sa.source);va.addQueryData('sd_set',sa.set);var wa={};wa['ids['+ua+']']=ua;wa['x['+ua+']']=ta.facebox_center.x;wa['y['+ua+']']=ta.facebox_center.y;var xa=new p(va.normalize().toString()).addData(wa);return xa;}function pa(sa,ta){ha=sa;var ua=k.find(ga,'*',z),va=m.getPos(ga),wa=m.getPos(sa),xa=m.getDim(sa),ya=new m(wa.x+xa.x/2,wa.y+xa.y-va.y),za=ka(ya,ya.x-fa/2,ya.x+fa/2),ab=k.find(ua,'*',ba);ab.style.left=ya.x-za.x+"px";var bb=n.get(ha);if(bb.suggestions)ta.tokenizer.updateSuggestionsIds(bb.suggestions);za.setPos(ua);k.show(ua);var cb=k.find(ua,'*',ca);cb.focus();r.scrollTo(cb,wa.y);if(ia){clearTimeout(ia);ia=null;}}function qa(sa){var ta=k.find(ga,'*',z);if(ha){var ua=n.get(ha),va=n.get(ga),wa=oa(va,ua,sa);na(ha);wa.listen('finally',function(){var xa=k.find(ga,'*',aa);k.hide(xa);la(ga);});wa.send();k.hide(ha);k.hide(ta);k.find(ta,'*',ca).blur();ha=null;}ia=h(function(){la(ga);},ea);}var ra=function sa(ta,ua){if(u)return;ga=ta;u=true;var va='touchend';if(s.IS_ANDROID)va='click';if(ua&&ua.use_faceboxes){ja=[l.listen(va,v,function(event){if(ha){var xa=k.find(ga,'*',z);k.find(xa,'*',ca).blur();k.hide(xa);ha=null;event.kill();}else la(event.getNode(v));}),l.listen(va,x,function(event){var xa=k.find(ga,'*',da),ya=event.getNode(x);pa(ya,xa);event.kill();}),l.listen(va,da,function(event){var xa=event.getNode(da),ya=k.find(xa,'*',ca);ya.focus();if(ha)r.scrollTo(ya,m.getPos(ha).y);event.kill();}),l.listen('Tokenizer-addedtoken',null,function(event){qa(event.getData().rel);})];}else ja=[l.listen('touchend',v,function(event){la(event.getNode(v));})];ja.push(l.listen('m:page:unload',null,ma));var wa=k.scry(ga,'*',w);if(wa.length>0&&n.get(wa[0]).imgsrc){t(n.get(wa[0]).imgsrc,function(){return la(ga);});}else la(ga);};g.main=ra;}),null);
__d('MReactionUnitViewportTracking',['MLegacyDataStore','DOM','MarauderLogger','MViewportTracking','Stratcom','ge'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n,o;if(c.__markCompiled)c.__markCompiled();var p='reaction-unit-logging';n=babelHelpers.inherits(q,k);o=n&&n.prototype;q.prototype.getDataFromConfig=function(r){this.$MReactionUnitViewportTracking1=[l.listen('m:jewel:flyout:open',null,function(s){if(s.getData().jewel==='notifications')this.startRecordingTimeTrackingData();}.bind(this)),l.listen('m:jewel:flyout:close',null,function(s){if(s.getData().jewel==='notifications')this.stopRecordingTimeTrackingData();}.bind(this)),l.listen('unload',null,function(){this.stopRecordingTimeTrackingData();}.bind(this))];this.isTimeTrackingEnabled=true;};q.prototype.getAllStories=function(){var r=m('notifications_flyout');if(!r)return [];return i.scry(r,'div',p);};q.prototype.getTimeout=function(){return 1;};q.prototype.getDataToLog=function(r){return h.get(r).logging_data;};q.prototype.getMinSizeToBeVisible=function(r){return 0;};q.prototype.getStoryID=function(r){return r.id;};q.prototype.getTimetrackingDataToLog=function(r){var s={};Object.assign(s,h.get(r.story).logging_data);s.unit_type=s.interacted_story_type;delete s.interacted_story_type;s.first_appear_time=r.evp_ts/1000;s.vpvd_time_delta=Math.round(r.vpvd);var t=this.getAllStories();s.unit_count=t.length;s.unit_position=t.indexOf(r.story);return s;};q.prototype.sendDataToLog=function(r){if(!r.vpvd_time_delta)return;j.log('reaction_unit_impression','reaction_units',r);};q.prototype.onUnload=function(){this.startRecordingTimeTrackingData();};function q(){n.apply(this,arguments);}f.exports.init=function(r){new q().init(r);};}),null);
__d('MReactionLogging',['MLegacyDataStore','MarauderLogger','MReactionUnitViewportTracking','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='reaction_logging',m=[];function n(p){j.init(p);if(m.length)return;m=[k.listen('click',l,function(q){o(q.getNode(l));}),k.listen('reaction-unit-expiration',null,function(q){i.log('reaction_unit_did_timeout','reaction_units',q.getData());})];}function o(p){var q=h.get(p).logging_data;i.log('reaction_unit_interaction','guide_cards_null_state',q);}f.exports={init:n};}),null);
__d("XTodayReactionController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ajax\/today\/reaction\/",{cursor:{type:"String"},id:{type:"String"},lat:{type:"Float"},"long":{type:"Float"}});}),null);
__d('MReactionUnitExpirations',['MLocationPrompt','MRequest','setTimeoutAcrossTransitions','Stratcom','XTodayReactionController'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={},n=[],o=1000*60*10;function p(){if(n.length)return;n=[k.listen(h.STRATCOM_UPDATE,null,function(x){s(x.getData().position.coords);})];j(r,o);}function q(x,y,z){m[x]={unit_type:z,expiration:y};if(y.radius&&h.getCoords())t(x,h.getCoords());}function r(){var x=Date.now()/1000;for(var y in m)if(x>m[y].expiration.timestamp)u(y);j(r,o);}function s(x){if(!x||x.latitude===undefined||x.longitude===undefined)return;for(var y in m)t(y,x);}function t(x,y){var z=m[x].expiration;if(z.radius&&v(z.latitude,z.longitude,y.latitude,y.longitude)>z.radius)u(x,y);}function u(x){var y=l.getURIBuilder().setString('id',x),z=h.getCoords();if(z)y.setFloat('lat',z.latitude).setFloat('long',z.longitude);k.invoke('reaction-unit-expiration',null,{unit_type:m[x].unit_type});new i(y.getURI().toString()).send();delete m[x];}function v(x,y,z,aa){var ba=6371000,ca=w(z-x),da=w(aa-y),ea=Math.sin(ca/2)*Math.sin(ca/2)+Math.cos(w(x))*Math.cos(w(z))*Math.sin(da/2)*Math.sin(da/2),fa=2*Math.atan2(Math.sqrt(ea),Math.sqrt(1-ea)),ga=ba*fa;return ga;}function w(x){return x*(Math.PI/180);}f.exports={init:p,updateUnitExpiration:q};}),null);
__d("XUFIReactionController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/reaction\/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:false},on_demand_content_time_offset:{type:"Int"},live_content_time_offset:{type:"Int"},aftercursor:{type:"String"},tab:{type:"String"},av:{type:"Int"},_ft_:{type:"String"}});}),null);
__d('MReactionsFlyout',['ActorURI','BanzaiLogger','CSS','MLegacyDataStore','DOM','MLiveData','MParent','MUFIConfig','MUFIReactionsUtils','MUFIRequest','Stratcom','TouchEventType','SubscriptionsHandler','XUFIReactionController','URI','cx','fbt'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y=[1,2,4,3,7,8],z=17;function aa(da){'use strict';ba.call(this);this.flyout=da;this.active=null;this.canScroll=true;this.canScrub=false;this.clickCaptureListener=null;this.preventScrollTimeout=null;this.longpressTimeout=null;this.nuxTooltip=null;this.overlay=null;this.reactionElements=document.getElementsByClassName("_1-kd");this.timing={};this.touchStartX=0;this.isUpdatedDock=o.hasUpdatedDock;this.pageSubscriptions=new t();this.flyoutSubscriptions=new t();this.pageSubscriptions.addSubscriptions(da.addListener('hide',this.onHide),r.listen('m:page:unload',null,this.onUnload),r.listen('m:viewport:orientation-change',null,this.onHide),r.listen(s.END,null,this.onWindowTouchEnd),r.listen(s.START,'like-reaction-flyout',this.onTouchStart),r.listen('click','screenreader-reactions-trigger',this.onScreenReaderTrigger));if(o.hasIEMobileFixes){this.pageSubscriptions.addSubscriptions(r.listen('touchcancel',null,this.onWindowTouchEnd));}else this.pageSubscriptions.addSubscriptions(r.listen('touchmove',null,this.onWindowTouchMove));}aa.prototype.setupFlyout=function(da,ea){'use strict';var fa=k.get(ea);da.setContext(ea);this.setSupported();var ga=this.nuxTooltip;if(ga)ga.hide();var ha=da.getContentRoot(),ia=n.bySigil(ha,'m-layer-root');if(ia){if(this.isUpdatedDock&&!fa.isComment){this.applyMultilineFlyout();j.addClass(ia,"_5xt_");}if(fa.isComment)j.addClass(ia,"_31rl");}da.show();this.createUFIOverlay();this.isUpdatedDock||fa.isComment?this.showOverlay(this.overlay.tap):this.showOverlay(this.overlay.dots);this.flyoutSubscriptions.addSubscriptions(r.listen('click','reaction-item',this.onClick),r.listenCapture('click','like-reaction-flyout',this.onClickCapture),r.listenCapture('click',null,this.onWindowClick));if(!o.hasIEMobileFixes)this.flyoutSubscriptions.addSubscriptions(r.listen('touchend','like-reaction-flyout',this.onTouchEnd),r.listen('touchend','reaction-item',this.onTouchEnd),r.listen('touchmove','like-reaction-flyout',this.onTouchMove),r.listen('touchmove','reaction-item',this.onTouchMove));};aa.prototype.select=function(da){'use strict';var ea=this.flyout;ea.hide();var fa=k.get(da),ga=fa.reaction,ha=ea.getContext(),ia=k.get(ha),ja=ia.feedbackTarget,ka=ia.isComment,la=m.get(ja).getData();if(la.viewerreaction===ga)return;if(ka){var ma=q.getURI(ha.getAttribute('href'));ma.addQueryData('reaction_comment_id',ja.split('_')[1]);ma.addQueryData('viewer_reaction',ga);q.send(ja,p.getReactionDataForComment(la,ga),ma);}else{var na,oa=la.actor_for_post;if(oa!==0&&!oa)oa=null;var pa=n.bySigil(ha,'story-div');q.send(ja,p.getReactionData(la,ga,oa),u.getURIBuilder().getURI(),(na={},na[h.PARAMETER_ACTOR]=oa,na._ft_=pa?k.get(pa).linkdata:null,na.ft_ent_identifier=ja,na.reaction_type=ga,na.feedback_source=new v(ha.getAttribute('data-uri')).getQueryData().feedback_source,na));}};aa.prototype.onClickCapture=function(event){'use strict';event.stop();};aa.prototype.removeActive=function(){'use strict';var da=this.active;if(da){this.active=null;da.removeAttribute('data-active');}};aa.prototype.applyMultilineFlyout=function(){'use strict';var da=this.flyout,ea=da.getContext(),fa=n.bySigil(ea,'mufi-inline'),ga=da.getContentRoot(),ha=l.scry(fa,'div','reactions-bling-bar');if(ha.length==0){j.addClass(ga,"_5xu1");return;}var ia=ha[0].getBoundingClientRect().height;if(ia>z){j.addClass(ga,"_5xu0");}else if(ia<z){j.addClass(ga,"_5xu1");}else{j.removeClass(ga,"_5xu0");j.removeClass(ga,"_5xu1");}};aa.prototype.showOverlay=function(da){'use strict';var ea=this.overlay;if(ea){j.show(da);for(var fa in ea){var ga=ea[fa];if(ga!=da&&ga!=ea.container)j.hide(ga);}}};aa.prototype.log=function(da){'use strict';var ea=m.get(k.get(this.flyout.getContext()).feedbackTarget).getData(),fa=ea.ft_ent_identifier,ga=ea.viewerreaction,ha=this.timing,ia=ha.touchEndTime,ja=ha.touchStartTime,ka=ia-ja;i.log('UserReactionsLoggerConfig',{feedback_id:fa,final_reaction:da.finalReaction||ga,initial_reaction:ga,'interface':'mTouch',long_press_duration:ka>0?ka:0,time_spent:Date.now()-ha.shownTime,via_scrubbing:da.viaScrubbing});};aa.prototype.createUFIOverlay=function(){'use strict';var da=this.flyout.getContext(),ea=k.get(da),fa=ea.feedbackTarget,ga=ea.isComment,ha=m.get(fa).getData().supportedreactions||y,ia=document.createElement('div');ia.style.display='none';ia.className="_403o";var ja=Math.round(ha.length*1.3);for(var ka=0;ka<ja;++ka){var la=document.createElement('div');la.className="_403p";ia.appendChild(la).className="_403p";}var ma=document.createElement('div');ma.style.display='none';ma.className="_5xu2";ma.textContent=x._("\u9ede\u6309\u5373\u53ef\u9078\u64c7\u5fc3\u60c5");var na=document.createElement('div');na.style.display='none';na.className="_5xu2";na.textContent=x._("\u4ee5\u624b\u6307\u5283\u904e");var oa=document.createElement('div');oa.style.display='none';oa.className="_5xu2";oa.textContent=x._("\u653e\u958b\u4ee5\u53d6\u6d88");var pa=document.createElement('div');pa.className="_403n";if(ga)j.addClass(pa,"_31ru");pa.appendChild(ia);pa.appendChild(oa);if(this.isUpdatedDock||ga){pa.appendChild(ma);pa.appendChild(na);}var qa=n.bySigil(da,'ufi-inline-actions');if(!qa)qa=n.bySigil(da,'ufi-inline-comment-actions');qa.insertBefore(pa,qa.firstChild);this.overlay={container:pa,tap:ma,slide:na,release:oa,dots:ia};};aa.prototype.removeUFIOverlay=function(){'use strict';var da=this.overlay;if(da){var ea=da.container;ea.parentNode.removeChild(ea);this.overlay=null;}};aa.prototype.setSupported=function(){'use strict';var da=k.get(this.flyout.getContext()),ea=m.get(da.feedbackTarget).getData().supportedreactions||y,fa=this.reactionElements;for(var ga=0,ha=fa.length;ga<ha;++ga){var ia=fa[ga],ja=k.get(ia),ka=ja.reaction;j.conditionShow(ia,ea.indexOf(ka)>=0);}};var ba=function da(){this.onUnload=function(){this.onHide();this.pageSubscriptions.release();this.pageSubscriptions=null;}.bind(this);this.onClick=function(event){this.select(event.getNode('reaction-item'));}.bind(this);this.onScreenReaderTrigger=function(event){var ea=event.getTarget().previousSibling;if(!ea)return;this.flyout.setContext(ea);this.setSupported();this.flyout.show();this.flyoutSubscriptions.addSubscriptions(r.listen('click','reaction-item',this.onClick));var fa=m.get(k.get(this.flyout.getContext()).feedbackTarget).getData(),ga=fa.viewerreaction,ha=null;for(var ia=0,ja=this.reactionElements.length;ia<ja;ia++){var ka=k.get(this.reactionElements[ia]),la=ka.reaction;if(la===ga)ha=this.reactionElements[ia];}if(!ha)ha=this.reactionElements[0];ha.focus();}.bind(this);this.onTouchStart=function(event){var ea=this.flyout;if(!ea.isShown()){this.touchStartX=event.getTouch().clientX;this.timing.touchStartTime=Date.now();this.preventScrollTimeout=setTimeout(function(){this.canScroll=false;}.bind(this),200);this.longpressTimeout=setTimeout(function(){this.timing.shownTime=Date.now();var fa=event.getTarget();this.setupFlyout(ea,fa);}.bind(this),300);}}.bind(this);this.onTouchMove=function(event){var ea=this.flyout,fa=k.get(ea.getContext()),ga=fa.isComment;if(!this.canScroll)ga?event.kill():event.prevent();var ha=event.getRawEvent().touches[0],ia=ha.clientX,ja=ha.clientY,ka=document.elementFromPoint(ia,ja);if(ka){var la=ka.nodeName==='I';if(!(la||this.canScrub)){this.canScrub=Math.abs(this.touchStartX-ia)>=25;return;}ea.getContentRoot().setAttribute('data-longpress',true);if(ea.getContentRoot().contains(ka)){if(la)ka=ka.parentNode.parentNode;if(this.active!==ka&&k.get(ka).reaction){this.isUpdatedDock||ga?this.showOverlay(this.overlay.slide):this.showOverlay(this.overlay.dots);this.removeActive();this.active=ka;ka.setAttribute('data-active',true);}}else if(!this.overlay||!this.overlay.container.contains(ka)){this.removeActive();this.showOverlay(this.overlay.release);}}}.bind(this);this.onTouchEnd=function(event){var ea=this.active;if(ea){this.log({finalReaction:k.get(ea).reaction,viaScrubbing:true});this.select(ea);}else{var fa=event.getTouch(),ga=fa.clientX,ha=fa.clientY,ia=document.elementFromPoint(ga,ha),ja=this.flyout;if(ia&&!(ja.getContentRoot().contains(ia)||ja.getContext().contains(ia)||this.overlay&&this.overlay.container.contains(ia)))ja.hide();}}.bind(this);this.onWindowClick=function(event){var ea=void 0,fa=event.getNode('reaction-item');if(fa)ea=k.get(fa).reaction;this.log({finalReaction:ea,viaScrubbing:false});}.bind(this);this.onWindowTouchEnd=function(){var ea=this.flyout;if(ea.isShown()){this.timing.touchEndTime=Date.now();ea.getContentRoot().removeAttribute('data-longpress');}else{this.canScroll=true;clearTimeout(this.longpressTimeout);clearTimeout(this.preventScrollTimeout);}}.bind(this);this.onHide=function(){this.canScroll=true;this.canScrub=false;this.removeActive();this.removeUFIOverlay();this.flyoutSubscriptions.release();this.flyoutSubscriptions=new t();}.bind(this);this.onWindowTouchMove=function(){if(!this.flyout.isShown()){this.canScroll=true;clearTimeout(this.longpressTimeout);clearTimeout(this.preventScrollTimeout);}}.bind(this);this.setNUXTooltip=function(ea){this.nuxTooltip=ea;}.bind(this);},ca=void 0;f.exports={init:function da(ea){ca=new aa(ea);},initNUX:function da(ea){if(ca)ca.setNUXTooltip(ea);}};}),null);
__d('MTouchAfro',['CSS','MLegacyDataStore','DOM','MModalDialog','MRequest','MXUIDiv.react','Parent','React','ReactDOM','Set','Stratcom','URI','$','csx','cx','fbt','ge','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z=null,aa=null,ba=null,ca=null,da={renderNFXReport:function ea(fa,ga){y(function(){h.hide(fa);da.openDialog(ga);},500);},initUndoHide:function ea(){if(z!==null)return;z=r.listen('click','afro-undo-hide',function(fa){var ga=fa.getNode('undo-content'),ha=i.get(ga).storyDomID;j.hide(ga);j.show(t(ha));});r.listen('m:page:unload',null,function(){z.remove();r.removeCurrentListener();});},hideOriginalContent:function ea(fa){j.hide(t(fa));},initDoneListener:function ea(fa,ga){if(aa!==null)return;aa=r.listen('click','nfx-dialog-done',function(ha){if(fa){var ia=t(fa);if(ia){var ja=i.get(ia).enhancedAfro;if(ja)h.addClass(ia,"_2gft");}p.render(o.createElement(m,{padding:'large',fontshade:'medium',fontweight:'bold'},w._("\u8b1d\u8b1d\u544a\u77e5\u3002")),t(fa));if(ga){var ka=x(ga);if(ka){j.remove(ka);h.removeClass(n.bySelector(t(fa),"._2b01"),"_2b01");}}}k.close();});r.listen('m:page:unload',null,function(){aa.remove();r.removeCurrentListener();});},showConfirmationPopup:function ea(fa,ga){var ha=confirm(fa);if(ha){var ia=new l(ga);ia.send();}},showInlineConfirmation:function ea(fa,ga){var ha=t(fa);j.hide(ha);j.insertAfter(ha,ga);var ia=j.scry(ga,'a','touchable');if(ia[0])ia[0].focus();},redirect:function ea(fa,ga){if(!ga){window.location=fa;}else{var ha=new l(fa);ha.send();}},redirectOnClick:function ea(fa,ga){r.listen('click',ga,function(ha){window.location=fa;});},openDialog:function ea(fa){k.open(fa);},openDialogOnClick:function ea(fa,ga){var ha=r.listen('click',ga,function(ia){k.open(fa);});r.listen('m:page:unload',null,function(){ha.remove();r.removeCurrentListener();});},initActionsTakenStore:function ea(){ca=false;if(ba!==null)return;ba=new q();var fa=r.listen('m-nfx-action-taken',null,function(ga){return ba.add(ga.getData());});r.listen('m:page:unload',null,function(){fa.remove();r.removeCurrentListener();});},clearActionsTakenStore:function ea(){ba=new q();},invokeActionTaken:function ea(fa){r.invoke('m-nfx-action-taken',null,fa);},checkActionAgainstStore:function ea(fa){var ga=i.get(fa),ha=false;ba.forEach(function(ia){if(ia.action===ga.action&&ia.label===ga.label)ha=true;});return ha;},addCancelButtonListener:function ea(fa){var ga=t('modalDialog');j.listen(ga,'click','dialog-cancel-button-alt',function(ha){ha.kill();if(ca){k.close();return;}ca=true;var ia=new s(fa);new l(ia).send();});},dialogLoadConfirmationScreenOnClick:function ea(fa,ga){j.listen(fa,'click',null,function(ha){ha.kill();if(ca){k.close();return;}ca=true;var ia=new s(ga);ia.addQueryData('g_actions',JSON.stringify(Array.from(ba)));new l(ia).send();});},logReportAdLinkClick:function ea(fa,ga){var ha=j.listen(fa,'click',null,function(){new l(ga).send();});r.listen('m:page:unload',null,function(){ha.remove();r.removeCurrentListener();});},setupWildeDoneButton:function ea(){window.addEventListener('fbActionButtonClick',function(){return window.__fbNative.close();});}};f.exports=da;}),null);
__d("XStoryChevronController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/story_chevron_menu\/",{feedobjects_identifiers:{type:"String"},feed_context:{type:"String"},chevron_button_id:{type:"String"},story_node_id:{type:"String"},zombie_story:{type:"String"},is_menu_registered:{type:"Bool",defaultValue:false},outer_story_token:{type:"String"}});}),null);
__d('MAsyncChevronMenu',['$','cx','CSS','requireWeak','BanzaiODS','MLegacyDataStore','DOM','MParent','MRequest','MTouchClick','Stratcom','SubscriptionsHandler','XStoryChevronController'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=null;k('MHideStoryActions',function(ia){return u=ia;});function v(ia){var ja=o.bySigil(ia,'story-popup-metadata');return ja;}var w;function x(){l.bumpEntityKey('mtouch_async_chevron','chevron_clicked');var ia=this.getCausalElement(),ja=m.get(ia),ka=v(ia),la=t.getURIBuilder().setBool('is_menu_registered',!!(u&&u.getActionBubble())).getURI(),ma=new p(la);j.show(aa);j.hide(ba);j.hide(ca);w=ka;ma.setMethod('POST');ma.setData({feedobjects_identifiers:ja.feedobjectsIdentifiers,feed_context:ja.feedContext,zombie_story:ja.zombieStoryURI?ja.zombieStoryURI:'',story_topic_feedback:ja.storyTopicFeedbackURI?ja.storyTopicFeedbackURI:'',story_node_id:ka.id,chevron_button_id:ia.id,outer_story_token:ja.outerStoryToken?ja.outerStoryToken:''});ma.listen('error',function(na){l.bumpEntityKey('mtouch_async_chevron','request_failed');j.hide(aa);if(na=='status=0'){l.bumpEntityKey('mtouch_async_chevron','request_failed_no_internet_connection');j.show(ba);j.hide(ca);}else{l.bumpEntityKey('mtouch_async_chevron','request_failed_server_side_error');j.show(ca);j.hide(ba);}});ma.listen('done',function(){l.bumpEntityKey('mtouch_async_chevron','request_done');});ma.send();}var y,z,aa,ba,ca;function da(){if(z){z.release();z=null;}y=null;aa=null;ba=null;ca=null;}function ea(ia){if(y){y.destroy();da();}y=ia;var ja=ia.getContentRoot();aa=n.find(ja,'div','loadingWrapper');ba=n.find(ja,'div','noConnectionWrapper');ca=n.find(ja,'div','requestErrorWrapper');z=new s('StoryChevronMenu');z.addSubscriptions(y.addListener('beforeshow',x,y),r.listen('m:page:unload',null,da),r.listen('m:story:action-bubble-initialized',null,function(ka){var la=ka.getData();if(la.menuNubID)fa(h(la.menuNubID),la.wasOpen);}));}function fa(ia,ja){if(!y.isShown()&&!ja||!u||!u.getActionBubble())return;y.hide();var ka=v(ia);if(w==ka){var la=ia.getElementsByClassName("_4s19")[0];q.click(la);}}function ga(ia,ja){n.replace(h(ja),ia);fa(ia);}function ha(ia){if(!w||w.id==ia){y.hide();w=null;}}f.exports={init:ea,replaceChevronTrigger:ga,closeLoadingFlyout:ha};}),null);
__d('TimezoneAutoset',['MRequest','Time'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k=function l(m){if(j)return;j=true;if(!m.time||m.offset===undefined)return;var n=-i.getGMTOffset(m.time);if(m.forceUpdate||n!=m.offset)new h(m.uri).setMethod('POST').setData({offset:n,is_forced:m.forceUpdate}).send();};g.main=k;}),null);
__d("MImagePreloader",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){for(var j=0;j<i.length;j++){var k=new Image();k.src=i[j];}}g.init=h;}),null);
__d('MLayerHideOnTouch',['Stratcom','TouchEventType'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this.$MLayerHideOnTouch1=null;this.$MLayerHideOnTouch2=k;}j.prototype.enable=function(){'use strict';this.$MLayerHideOnTouch1=[this.$MLayerHideOnTouch2.addListener('show',this.$MLayerHideOnTouch3.bind(this)),this.$MLayerHideOnTouch2.addListener('hide',this.$MLayerHideOnTouch4.bind(this))];if(this.$MLayerHideOnTouch2.isShown())this.$MLayerHideOnTouch3();};j.prototype.disable=function(){'use strict';this.$MLayerHideOnTouch4();while(this.$MLayerHideOnTouch1.length)this.$MLayerHideOnTouch1.pop().remove();this.$MLayerHideOnTouch1=null;};j.prototype.$MLayerHideOnTouch4=function(){'use strict';this.$MLayerHideOnTouch5&&this.$MLayerHideOnTouch5.remove();this.$MLayerHideOnTouch5=null;};j.prototype.$MLayerHideOnTouch3=function(){'use strict';this.$MLayerHideOnTouch5=h.listen(i.START,null,function(event){if(!this.$MLayerHideOnTouch2.getContentRoot().contains(event.getTarget())){this.$MLayerHideOnTouch2.hide();event.prevent();}}.bind(this));};f.exports=j;}),null);
__d('MLoadTimeOutBanner',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){var j=document.getElementById(i);if(j)j.style.display='inherit';}g.init=function(i,j){setTimeout(h.bind(null,i),j);};}),null);
__d('MTextMetrics',['DOM','MJSEnvironment'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=3*2;function k(l){'use strict';this._node=l;this._shadow=this._cloneNode();this._offset=this._getOffset();}k.prototype._cloneNode=function(){'use strict';var l=this._getComputedStyle(),m=h.create('pre',{className:'textMetrics',style:k.defaultStyles});l&&k.clonedStyles.forEach(function(n){var o=n.replace(/([A-Z])/g,'-$1').toLowerCase();m.style[n]=l.getPropertyValue(o);});h.appendContent(document.body,m);return m;};k.prototype._getOffset=function(){'use strict';var l=this._getComputedStyle(),m=parseInt(l.paddingLeft,10)+parseInt(l.paddingRight,10)+parseInt(l.borderLeftWidth,10)+parseInt(l.borderRightWidth,10),n=parseInt(l.paddingTop,10)+parseInt(l.paddingBottom,10)+parseInt(l.borderTopWidth,10)+parseInt(l.borderBottomWidth,10);return {height:n,width:m};};k.prototype._getComputedStyle=function(){'use strict';if(window.getComputedStyle){return window.getComputedStyle(this._node,null);}else if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(this._node,null);};k.prototype.measure=function(){'use strict';var l=this._node,m=this._shadow,n=this._offset,o=i.IS_APPLE_WEBKIT_IOS?j:0;m.style.width=l.offsetWidth-n.width-o+'px';m.innerText=l.value+'\n';return {width:m.clientWidth+n.width,height:m.clientHeight+n.height};};k.prototype.destroy=function(){'use strict';h.remove(this._shadow);};Object.assign(k,{clonedStyles:['fontFamily','fontSize','fontStyle','fontWeight','lineHeight','minHeight','whiteSpace','width','wordWrap']});Object.assign(k.prototype,{_node:null,_shadow:null,_offset:null});f.exports=k;}),null);
__d('InitMTextMetrics',['setTimeoutAcrossTransitions','setIntervalAcrossTransitions','DOM','MLegacyDataStore','MTextMetrics','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p='expandable-textarea',q=function r(s){if(!o)u();if(n)return;n=true;function t(x){var y=new l(x),z={metrics:y,resizedInput:null,originalHeight:x.offsetHeight};k.set(x,z);}function u(){o=i(function(){var x=j.scry(document,'textarea',p);x.forEach(function(y){v(y);});},300);}function v(x,y){var z=k.get(x);if(!z.metrics)t(x);if(x.value==z.resizedInput)return;z.resizedInput=x.value;var aa=x.style.height;x.style.height=Math.max(0+z.metrics.measure().height,z.originalHeight)+'px';if(y&&aa!=x.style.height){var ba=x.value.substr(0,x.selectionStart).split("\n").length,ca=x.value.split("\n").length;if(ba===ca)h(function(){x.scrollIntoView(true);},100);}}function w(event){var x=event.getNode(p);v(x,true);}m.listen(['focus','blur','keypress','keydown','keyup','input'],p,w);m.listen('m:page:unload',null,function(){var x=j.scry(document,'textarea',p);x.forEach(function(y){var z=k.get(y);if(z.metrics){z.metrics.destroy();z.metrics=null;z.styleHeight=null;z.resizedInput=null;}});clearInterval(o);o=null;});};g.main=q;}),null);
__d('MCommentActionsFlyout',['Bootloader','DOM','MLegacyDataStore','MModalDialog','MParent','MRequest','Stratcom','URI','MActionBubbleHelper'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q='ban_user_from_page_comment_sigil',r='editCommentSigil',s='deleteCommentSigil',t='deleteCommentAndBlockAuthorSigil',u='hideCommentSigil',v='reportCommentSigil',w='commentFlyoutSigil',x=false;function y(ia,ja,ka){var la=i.find(ia,'*',ja);p.toggleActionBubbleItem(la,ka);}function z(ia){var ja=l.bySigil(ia,'comment-metadata');return ja;}function aa(ia,ja){var ka=j.get(ja);ia.addQueryData('_ft_',ka.linkdata);}function ba(ia,ja){aa(ja,ia);var ka=new m(ja);ka.send();}function ca(ia,ja){k.open(ja);}function da(){var ia=z(this.getCausalElement()),ja=this.getRoot(),ka=j.get(ia);y(ja,r,!!ka.editCommentURI);y(ja,s,!!ka.deleteCommentURI);y(ja,t,!!ka.deleteCommentAndBlockAuthorURI);y(ja,u,!!ka.hideCommentURI);y(ja,v,!!ka.reportCommentURI);y(ja,q,!!ka.banUserFromPageURIParams&&!x);}function ea(ia){var ja=j.get(ia.getNode(w)),ka=z(ja.layer.getCausalElement()),la=j.get(ka);if(ia.getNode(r)){ba(ka,new o(la.editCommentURI));}else if(ia.getNode(s)){ba(ka,new o(la.deleteCommentURI));}else if(ia.getNode(t)){ba(ka,new o(la.deleteCommentAndBlockAuthorURI));}else if(ia.getNode(u)){ba(ka,new o(la.hideCommentURI));}else if(ia.getNode(v)){if(la.reportIsModalDialog){ca(ka,new o(la.reportCommentURI));}else ba(ka,new o(la.reportCommentURI));}else if(ia.getNode(q))if(la.banUserFromPageURIParams)h.loadModules(["MPagesBanUserUtils"],function(ma){ma.banUserFromPage(la.banUserFromPageURIParams.pageID,la.banUserFromPageURIParams.userID,la.banUserFromPageURIParams.userName,function(){x=true;});},'MCommentActionsFlyout');ja.layer.hide();ia.kill();}var fa,ga,ha=function ia(ja){if(fa)return;fa=ja;var ka=ja.getRoot();n.addSigil(ka,w);ga=[n.listen('m:page:unload',null,function(){while(ga.length>0)ga.pop().remove();fa=null;}),ja.addListener('beforeshow',da,ja),i.listen(ka,'click',null,ea)];};f.exports={registerFlyout:ha};}),null);
__d('MUFICommentActionLink',['DOM','MPageController','MUFIConfig','Stratcom','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(n,o){var p;if(!j.canReactToComment)return;if(n.href)n.setAttribute('data-uri',n.href);n.removeAttribute('href');if(o)(function(){var q=new l();q.addSubscriptions(h.listen(n,'click',null,function(event){i.load(n.getAttribute('data-uri'));}),k.listen('m:page:unload',null,function(){q.release();}),k.listen('m:feed-ufi-flyout:reset',null,function(){q.release();}));})();}f.exports={init:m};}),null);
__d('MUFIComments',['Bootloader','MDeepCopy','MLiveData','MParent','MUFICommentsConfig','MViewport','Stratcom','SubscriptionsHandler','getActiveElement'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q='MSITE_COMMENT_TYPING_FUNNEL';function r(t){return t+'_mufiseencomments';}function s(t,u,v){this.$MUFIComments1=t;this.$MUFIComments2=r(u);this.$MUFIComments3=j.get(u);this.$MUFIComments5=false;this.$MUFIComments6=v;this.$MUFIComments7=false;this.$MUFIComments8=null;this.$MUFIComments9=null;this.$MUFIComments4=new o();this.$MUFIComments4.addSubscriptions(this.$MUFIComments3.listen('change',this.onChange.bind(this)),n.listen('m:page:unload',null,this.onUnload.bind(this)));this.$MUFIComments10(u);}s.prototype.$MUFIComments10=function(t){if(l.canShowTypingIndicators&&!k.bySigil(this.$MUFIComments1,'feed-ufi-comments'))h.loadModules(["MUFICommentTypingSubscriptionController","FunnelLogger"],function(u,v){var w=new u(t,function(x){this.$MUFIComments9=x;this.onLiveEventUpdate();}.bind(this));if(!w.didSubscribe())return;this.$MUFIComments7=true;this.$MUFIComments4.addSubscriptions(w);this.$MUFIComments8=v;v.startFunnel(q);}.bind(this),'MUFIComments');};s.prototype.onChange=function(){var t=this.$MUFIComments3.getData();if(t.request_id===this.$MUFIComments6||t.comments===undefined)return;this.$MUFIComments11(t.logging_interaction_key);};s.prototype.onLiveEventUpdate=function(){if(this.$MUFIComments7)this.$MUFIComments11();};s.prototype.$MUFIComments11=function(t){h.loadModules(["MReactComponentRenderer","MUFICommentList.react"],function(u,v){var w,x=this,y=this.$MUFIComments3.getData();y.showPillOnMount=true;y.seenCommentsCacheID=this.$MUFIComments2;y.comments=y.comments?i(y.comments):[];if(this.$MUFIComments7){var z=this.$MUFIComments9||{},aa=z.friendCount,ba=z.otherCount;y.isAnyLiveTyping=Math.max(ba,aa)>0;y.isFriendLiveTyping=aa>0;y.bootloadedFunnelLoggerModule=this.$MUFIComments8;}if(n.hasSigil(p(),'mufi-composer'))(function(){var ea=x.$MUFIComments1.offsetHeight;y.onDone=function(){m.scrollBy(0,this.$MUFIComments1.offsetHeight-ea);ea=this.$MUFIComments1.offsetHeight;}.bind(x);})();u(v,this.$MUFIComments1,y);var ca=y.logging_interaction_key,da=ca?[ca]:[];if(t&&t!==ca)da.push(t);n.invoke('m:ufi:live-comments:render',null,{ufi:k.bySigil(this.$MUFIComments1,'m-ufi'),logKeys:da});}.bind(this),'MUFIComments');if(!this.$MUFIComments5){this.$MUFIComments12();this.$MUFIComments5=true;}};s.prototype.$MUFIComments12=function(){this.$MUFIComments1.style.display='run-in';this.$MUFIComments1.offsetHeight;this.$MUFIComments1.style.display='block';};s.prototype.onUnload=function(){this.$MUFIComments4.release();this.$MUFIComments7=false;this.$MUFIComments9=null;};f.exports=s;}),null);
__d('MActionBubbleLayout',['CSS','cx'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this.$MActionBubbleLayout1=null;this.$MActionBubbleLayout2=k;}j.prototype.enable=function(){'use strict';this.$MActionBubbleLayout1=this.$MActionBubbleLayout2.addListener('adjustDimensions',this.$MActionBubbleLayout3.bind(this));if(this.$MActionBubbleLayout2.isShown())this.$MActionBubbleLayout2.updatePosition();};j.prototype.disable=function(){'use strict';this.$MActionBubbleLayout1.remove();this.$MActionBubbleLayout1=null;if(this.$MActionBubbleLayout2.isShown())this.$MActionBubbleLayout2.updatePosition();};j.prototype.$MActionBubbleLayout3=function(){'use strict';var k=this.$MActionBubbleLayout2;this.$MActionBubbleLayout4(true);var l=this.$MActionBubbleLayout2.getContentRoot();if(l.clientWidth>=k.getMaxWidth())this.$MActionBubbleLayout4(false);};j.prototype.$MActionBubbleLayout4=function(k){'use strict';var l=this.$MActionBubbleLayout2;l.setWidth(k?'auto':'wide');l.applyWidth();h.conditionClass(l.getRoot(),"_55i0",k);};f.exports=j;}),null);